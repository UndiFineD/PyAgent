#!/usr/bin/env python3
"""Minimal IdentityCore implementation for tests."""



try:
    from dataclasses import dataclass
except ImportError:
    from dataclasses import dataclass

try:
    from typing import Dict
except ImportError:
    from typing import Dict

try:
    import uuid
except ImportError:
    import uuid



@dataclass
class AgentIdentity:
    agent_id: str
    name: str


class IdentityCore:
    __all__ = ["IdentityCore", "AgentIdentity"]

    def __init__(self) -> None:
        self._identities: Dict[str, AgentIdentity] = {}

    def create_identity(self, name: str) -> AgentIdentity:
        aid = uuid.uuid4().hex
        identity = AgentIdentity(agent_id=aid, name=name)
        self._identities[aid] = identity
        return identity

    def get_identity(self, agent_id: str) -> AgentIdentity | None:
        return self._identities.get(agent_id)


__all__ = ["IdentityCore", "AgentIdentity"]

from __future__ import annotations

