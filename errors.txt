============================= test session starts =============================
platform win32 -- Python 3.14.2, pytest-8.4.2, pluggy-1.6.0 -- C:\Python314\python.exe
cachedir: .pytest_cache
hypothesis profile 'default'
metadata: {'Python': '3.14.2', 'Platform': 'Windows-11-10.0.26200-SP0', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.11.0', 'Faker': '37.11.0', 'hypothesis': '6.148.3', 'locust': '2.41.6', 'ansible': '25.11.1', 'asyncio': '1.2.0', 'cov': '7.0.0', 'html': '4.1.1', 'metadata': '3.1.1', 'mock': '3.15.1', 'plus': '0.8.1', 'rerunfailures': '16.1', 'sugar': '1.1.1', 'timeout': '2.4.0', 'xdist': '3.8.0', 'requests-mock': '1.12.1'}}
rootdir: C:\Users\kdejo\DEV\PyAgent
plugins: anyio-4.11.0, Faker-37.11.0, hypothesis-6.148.3, locust-2.41.6, ansible-25.11.1, asyncio-1.2.0, cov-7.0.0, html-4.1.1, metadata-3.1.1, mock-3.15.1, plus-0.8.1, rerunfailures-16.1, sugar-1.1.1, timeout-2.4.0, xdist-3.8.0, requests-mock-1.12.1
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 2680 items

src/test_agent.py::TestPluginBasedAgentLoading::test_plugin_discovery_basic SKIPPED [  5%]
src/test_agent.py::TestPluginBasedAgentLoading::test_plugin_registration SKIPPED [  5%]
src/test_agent.py::TestAgentDependencyResolution::test_dependency_graph SKIPPED [  5%]
src/test_agent.py::TestAgentResourceQuotas::test_rate_limit_config SKIPPED [  5%]
src/test_agent.py::TestAgentRetryPolicies::test_circuit_breaker_init SKIPPED [  5%]
src/test_agent.py::TestAgentRetryPolicies::test_circuit_breaker_trip SKIPPED [  5%]
src/test_agent.py::TestAgentMetricsTelemetry::test_telemetry_collector SKIPPED [  5%]
src/test_agent.py::TestAgentConfigInheritance::test_config_override SKIPPED [  6%]
src/test_agent.py::TestAgentOutputValidation::test_validation_rule SKIPPED [  6%]
src/test_agent.py::TestAgentGracefulShutdownBehavior::test_shutdown_state SKIPPED [  6%]
src/test_agent_backend.py::TestABTester::test_create_test FAILED         [ 11%]
src/test_agent_changes_tests.py::test_changes_agent_non_keyword_sets_current_content FAILED [ 20%]
src/test_agent_coder.py::TestAccessibilityAnalyzer::test_analyze_javascript_interactive_div FAILED [ 27%]
src/test_agent_coder.py::TestMultiLanguageCodeGeneration::test_generate_python_code FAILED [ 28%]
src/test_agent_coder.py::TestMultiLanguageCodeGeneration::test_generate_javascript_code FAILED [ 28%]
src/test_agent_coder.py::TestQualityGates::test_quality_score_calculation FAILED [ 28%]
src/test_agent_coder.py::TestMigrationAutomation::test_detect_deprecated_syntax FAILED [ 29%]
src/test_agent_coder.py::TestCodeFormatting::test_black_format_detection FAILED [ 29%]
src/test_agent_context.py::test_validate_content_valid FAILED            [ 32%]
src/test_agent_context.py::test_is_valid FAILED                          [ 32%]
src/test_agent_context.py::test_auto_categorize_config FAILED            [ 32%]
src/test_agent_context.py::test_semantic_search_engine_init FAILED       [ 33%]
src/test_agent_context.py::test_semantic_search_engine_search FAILED     [ 34%]
src/test_agent_context.py::test_semantic_search_engine_clear FAILED      [ 34%]
src/test_agent_context.py::test_cross_repo_analyzer_analyze FAILED       [ 34%]
src/test_agent_context.py::test_context_differ_compute_diff FAILED       [ 34%]
src/test_agent_context.py::test_context_differ_section_diff FAILED       [ 34%]
src/test_agent_context.py::test_context_differ_summarize FAILED          [ 34%]
src/test_agent_context.py::test_context_inheritance_init FAILED          [ 34%]
src/test_agent_context.py::test_context_inheritance_set_parent FAILED    [ 34%]
src/test_agent_context.py::test_context_inheritance_apply FAILED         [ 34%]
src/test_agent_context.py::test_nl_query_engine_query FAILED             [ 34%]
src/test_agent_context.py::test_context_exporter_init FAILED             [ 34%]
src/test_agent_context.py::test_context_exporter_set_format FAILED       [ 34%]
src/test_agent_context.py::test_context_exporter_supported_formats FAILED [ 34%]
src/test_agent_context.py::test_context_recommender_init FAILED          [ 35%]
src/test_agent_context.py::test_context_recommender_add_reference FAILED [ 35%]
src/test_agent_context.py::test_context_recommender_recommend FAILED     [ 35%]
src/test_agent_context.py::test_context_recommender_find_similar FAILED  [ 35%]
src/test_agent_context.py::test_code_generator_set_language FAILED       [ 35%]
src/test_agent_context.py::test_code_generator_generate FAILED           [ 35%]
src/test_agent_context.py::test_code_generator_with_context FAILED       [ 35%]
src/test_agent_context.py::test_code_generator_supported_languages FAILED [ 35%]
src/test_agent_context.py::test_refactoring_advisor_analyze FAILED       [ 35%]
src/test_agent_context.py::test_refactoring_advisor_add_pattern FAILED   [ 35%]
src/test_agent_context.py::test_refactoring_advisor_prioritize FAILED    [ 35%]
src/test_agent_context.py::test_context_visualizer_init FAILED           [ 35%]
src/test_agent_context.py::test_context_visualizer_set_type FAILED       [ 35%]
src/test_agent_context.py::test_context_visualizer_add_node FAILED       [ 35%]
src/test_agent_context.py::test_context_visualizer_add_edge FAILED       [ 35%]
src/test_agent_context.py::test_context_visualizer_generate FAILED       [ 35%]
src/test_agent_context.py::test_context_visualizer_export_json FAILED    [ 35%]
src/test_agent_context.py::test_context_sharing_manager_init FAILED      [ 35%]
src/test_agent_context.py::test_context_sharing_manager_create_shared FAILED [ 35%]
src/test_agent_context.py::test_context_sharing_manager_share_with FAILED [ 35%]
src/test_agent_context.py::test_context_sharing_manager_set_permission FAILED [ 35%]
src/test_agent_context.py::test_context_sharing_manager_revoke FAILED    [ 35%]
src/test_agent_context.py::test_context_sharing_manager_get_shared FAILED [ 35%]
src/test_agent_context.py::test_merge_conflict_resolver_init FAILED      [ 35%]
src/test_agent_context.py::test_merge_conflict_resolver_set_strategy FAILED [ 35%]
src/test_agent_context.py::test_merge_conflict_resolver_detect FAILED    [ 36%]
src/test_agent_context.py::test_merge_conflict_resolver_resolve FAILED   [ 36%]
src/test_agent_context.py::test_merge_conflict_resolver_resolve_all FAILED [ 36%]
src/test_agent_context.py::test_branch_comparer_set_branches FAILED      [ 36%]
src/test_agent_context.py::test_branch_comparer_compare FAILED           [ 36%]
src/test_agent_context.py::test_branch_comparer_get_modified FAILED      [ 36%]
src/test_agent_context.py::test_branch_comparer_summarize FAILED         [ 36%]
src/test_agent_context.py::TestContextNotification::test_alert_marker_detection FAILED [ 37%]
src/test_agent_errors.py::TestSeverityScoring_v2::test_critical_severity FAILED [ 45%]
src/test_agent_improvements.py::TestImprovementCategory::test_all_categories_exist FAILED [ 49%]
src/test_agent_improvements.py::TestImprovementStatus::test_all_statuses_exist FAILED [ 49%]
src/test_agent_improvements.py::TestEffortEstimate::test_effort_values FAILED [ 49%]
src/test_agent_improvements.py::TestImprovementDataclass::test_create_improvement FAILED [ 49%]
src/test_agent_improvements.py::TestImprovementRetrieval::test_get_improvements_by_status FAILED [ 49%]
src/test_agent_improvements.py::TestEffortEstimation::test_estimate_total_effort FAILED [ 50%]
src/test_agent_improvements.py::TestDependencies::test_get_ready_to_implement FAILED [ 50%]
src/test_agent_improvements.py::TestTemplates::test_create_from_template FAILED [ 50%]
src/test_agent_improvements.py::TestTemplates::test_add_custom_template FAILED [ 50%]
src/test_agent_improvements.py::TestAssignment::test_unassign FAILED     [ 50%]
src/test_agent_improvements.py::TestExport::test_export_csv FAILED       [ 50%]
src/test_agent_improvements.py::TestImprovementImpactScoring::test_impact_scorer_initialization FAILED [ 53%]
src/test_agent_improvements.py::TestImprovementImpactScoring::test_calculate_impact_score FAILED [ 53%]
src/test_agent_improvements.py::TestImprovementImpactScoring::test_impact_factors FAILED [ 53%]
src/test_agent_improvements.py::TestImprovementDependencyResolution::test_dependency_resolver_init FAILED [ 53%]
src/test_agent_improvements.py::TestImprovementDependencyResolution::test_add_dependency FAILED [ 53%]
src/test_agent_improvements.py::TestImprovementDependencyResolution::test_resolve_order FAILED [ 53%]
src/test_agent_improvements.py::TestEffortEstimationAlgorithms::test_effort_estimator_init FAILED [ 53%]
src/test_agent_improvements.py::TestEffortEstimationAlgorithms::test_estimate_simple_task FAILED [ 53%]
src/test_agent_improvements.py::TestEffortEstimationAlgorithms::test_estimate_with_historical_data FAILED [ 53%]
src/test_agent_improvements.py::TestImprovementTemplateInstantiation::test_template_creation FAILED [ 53%]
src/test_agent_improvements.py::TestImprovementTemplateInstantiation::test_template_instantiation FAILED [ 53%]
src/test_agent_improvements.py::TestStatusWorkflowTransitions::test_workflow_engine_init FAILED [ 53%]
src/test_agent_improvements.py::TestStatusWorkflowTransitions::test_valid_transition FAILED [ 53%]
src/test_agent_improvements.py::TestStatusWorkflowTransitions::test_invalid_transition_blocked FAILED [ 53%]
src/test_agent_improvements.py::TestVotingAndPrioritization::test_cast_vote FAILED [ 53%]
src/test_agent_improvements.py::TestVotingAndPrioritization::test_prioritization_by_votes FAILED [ 53%]
src/test_agent_improvements.py::TestSchedulingAndResourceAllocation::test_scheduler_init FAILED [ 54%]
src/test_agent_improvements.py::TestSchedulingAndResourceAllocation::test_schedule_improvement FAILED [ 54%]
src/test_agent_improvements.py::TestSchedulingAndResourceAllocation::test_resource_allocation FAILED [ 54%]
src/test_agent_improvements.py::TestDashboardRenderingAndUpdates::test_dashboard_creation FAILED [ 54%]
src/test_agent_improvements.py::TestDashboardRenderingAndUpdates::test_dashboard_render FAILED [ 54%]
src/test_agent_improvements.py::TestDashboardRenderingAndUpdates::test_dashboard_update_on_change FAILED [ 54%]
src/test_agent_improvements.py::TestAutomatedValidationIntegration::test_validate_improvement FAILED [ 54%]
src/test_agent_improvements.py::TestAutomatedValidationIntegration::test_validation_failure FAILED [ 54%]
src/test_agent_improvements.py::TestRollbackTracking::test_rollback_manager_init FAILED [ 54%]
src/test_agent_improvements.py::TestRollbackTracking::test_create_rollback_point FAILED [ 54%]
src/test_agent_improvements.py::TestRollbackTracking::test_rollback_to_point FAILED [ 54%]
src/test_agent_improvements.py::TestCodeAnalysisToolSuggestions::test_analyzer_init FAILED [ 54%]
src/test_agent_improvements.py::TestCodeAnalysisToolSuggestions::test_suggest_tools_for_improvement FAILED [ 54%]
src/test_agent_improvements.py::TestDocumentationGenerationQuality::test_doc_generator_init FAILED [ 54%]
src/test_agent_improvements.py::TestDocumentationGenerationQuality::test_generate_improvement_docs FAILED [ 54%]
src/test_agent_improvements.py::TestDocumentationGenerationQuality::test_docs_include_metadata FAILED [ 54%]
src/test_agent_improvements.py::TestAssignmentAndOwnershipTracking::test_assignment_manager_init FAILED [ 54%]
src/test_agent_improvements.py::TestAssignmentAndOwnershipTracking::test_assign_improvement FAILED [ 54%]
src/test_agent_improvements.py::TestAssignmentAndOwnershipTracking::test_ownership_history FAILED [ 54%]
src/test_agent_improvements.py::TestSLAEnforcementAndAlerting::test_sla_manager_init FAILED [ 54%]
src/test_agent_improvements.py::TestSLAEnforcementAndAlerting::test_set_sla_policy FAILED [ 54%]
src/test_agent_improvements.py::TestSLAEnforcementAndAlerting::test_sla_violation_alert FAILED [ 54%]
src/test_agent_improvements.py::TestAnalyticsAndTrendCalculations::test_analytics_engine_init FAILED [ 54%]
src/test_agent_improvements.py::TestAnalyticsAndTrendCalculations::test_calculate_completion_trend FAILED [ 54%]
src/test_agent_improvements.py::TestAnalyticsAndTrendCalculations::test_velocity_calculation FAILED [ 54%]
src/test_agent_improvements.py::TestImprovementBulkOperations::test_bulk_manager_init FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementBulkOperations::test_bulk_status_update FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementBulkOperations::test_bulk_assign FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementArchival::test_archive_manager_init FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementArchival::test_archive_improvement FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementArchival::test_restore_from_archive FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementExportFormats::test_exporter_init FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementExportFormats::test_export_to_json FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementExportFormats::test_export_to_csv FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementNotifications::test_notification_manager_init FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementNotifications::test_subscribe_to_improvement FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementNotifications::test_notification_on_status_change FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementAccessControl::test_access_controller_init FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementAccessControl::test_grant_access FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementAccessControl::test_deny_unauthorized_access FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementAccessControl::test_role_based_access FAILED [ 55%]
src/test_agent_improvements.py::TestImprovementParsing::test_parse_improvement_with_context FAILED [ 55%]
src/test_agent_improvements.py::TestRefactoringStrategy::test_agent_processor_responsibilities FAILED [ 58%]
src/test_agent_stats.py::TestCustomMetrics::test_add_metric_value FAILED [ 59%]
src/test_agent_stats.py::TestAnomalyDetection::test_detect_anomaly_outlier FAILED [ 59%]
src/test_agent_stats.py::TestThresholdsAndAlerting::test_threshold_creates_alert FAILED [ 59%]
src/test_agent_stats.py::TestRetentionPolicies::test_apply_retention_policies FAILED [ 60%]
src/test_agent_stats.py::TestCompression::test_decompress_metrics FAILED [ 60%]
src/test_agent_stats.py::TestStatsAgent::test_visualize_stats FAILED     [ 60%]
src/test_agent_stats.py::TestRealTimeStatsStreaming::test_stream_manager_creates_stream FAILED [ 62%]
src/test_agent_stats.py::TestRealTimeStatsStreaming::test_stream_receives_data FAILED [ 62%]
src/test_agent_stats.py::TestRealTimeStatsStreaming::test_stream_subscriber_receives_updates FAILED [ 62%]
src/test_agent_stats.py::TestStatsFederationAcrossSources::test_federation_adds_sources FAILED [ 63%]
src/test_agent_stats.py::TestStatsFederationAcrossSources::test_federation_aggregates_data FAILED [ 63%]
src/test_agent_stats.py::TestStatsFederationAcrossSources::test_federation_handles_source_failure FAILED [ 63%]
src/test_agent_stats.py::TestStatsRetentionPolicyEnforcement::test_retention_policy_creation FAILED [ 63%]
src/test_agent_stats.py::TestStatsRetentionPolicyEnforcement::test_retention_enforcer_removes_old_data FAILED [ 63%]
src/test_agent_stats.py::TestStatsNamespaceIsolation::test_namespace_metric_scoping FAILED [ 63%]
src/test_agent_stats.py::TestStatsNamespaceIsolation::test_namespace_isolation FAILED [ 63%]
src/test_agent_stats.py::TestStatsMetricFormulaCalculation::test_formula_simple_calculation FAILED [ 63%]
src/test_agent_stats.py::TestStatsMetricFormulaCalculation::test_formula_with_aggregation FAILED [ 63%]
src/test_agent_stats.py::TestStatsMetricFormulaCalculation::test_formula_validation FAILED [ 63%]
src/test_agent_stats.py::TestStatsABComparison::test_ab_comparison_basic FAILED [ 63%]
src/test_agent_stats.py::TestStatsABComparison::test_ab_statistical_significance FAILED [ 63%]
src/test_agent_stats.py::TestStatsForecastingAccuracy::test_forecaster_predicts_trend FAILED [ 63%]
src/test_agent_stats.py::TestStatsForecastingAccuracy::test_forecaster_calculates_confidence FAILED [ 63%]
src/test_agent_stats.py::TestStatsSnapshotCreationAndRestore::test_snapshot_creation FAILED [ 63%]
src/test_agent_stats.py::TestStatsSnapshotCreationAndRestore::test_snapshot_restore FAILED [ 63%]
src/test_agent_stats.py::TestStatsSnapshotCreationAndRestore::test_snapshot_list FAILED [ 63%]
src/test_agent_stats.py::TestStatsThresholdAlerting::test_threshold_alert_triggers FAILED [ 63%]
src/test_agent_stats.py::TestStatsThresholdAlerting::test_threshold_no_alert_below_threshold FAILED [ 63%]
src/test_agent_stats.py::TestStatsSubscriptionAndNotification::test_subscription_creation FAILED [ 63%]
src/test_agent_stats.py::TestStatsSubscriptionAndNotification::test_notification_delivery FAILED [ 63%]
src/test_agent_stats.py::TestStatsExportToMonitoringPlatforms::test_prometheus_export FAILED [ 63%]
src/test_agent_stats.py::TestStatsExportToMonitoringPlatforms::test_json_export FAILED [ 63%]
src/test_agent_stats.py::TestStatsAnnotationPersistence::test_annotation_creation FAILED [ 63%]
src/test_agent_stats.py::TestStatsAnnotationPersistence::test_annotation_retrieval FAILED [ 63%]
src/test_agent_stats.py::TestStatsChangeNotificationSystem::test_change_detection FAILED [ 63%]
src/test_agent_stats.py::TestStatsChangeNotificationSystem::test_change_notification FAILED [ 64%]
src/test_agent_stats.py::TestStatsCompressionAlgorithms::test_compression_reduces_size FAILED [ 64%]
src/test_agent_stats.py::TestStatsCompressionAlgorithms::test_compression_decompression_roundtrip FAILED [ 64%]
src/test_agent_stats.py::TestStatsRollupCalculations::test_hourly_rollup FAILED [ 64%]
src/test_agent_stats.py::TestStatsRollupCalculations::test_daily_rollup FAILED [ 64%]
src/test_agent_stats.py::TestStatsQueryPerformance::test_query_with_time_range FAILED [ 64%]
src/test_agent_stats.py::TestStatsQueryPerformance::test_query_with_aggregation FAILED [ 64%]
src/test_agent_stats.py::TestStatsAccessControl::test_access_control_grant FAILED [ 64%]
src/test_agent_stats.py::TestStatsAccessControl::test_access_control_deny FAILED [ 64%]
src/test_agent_stats.py::TestStatsAccessControl::test_access_control_write_level FAILED [ 64%]
src/test_agent_stats.py::TestStatsBackupAndRestore::test_backup_creation FAILED [ 64%]
src/test_agent_stats.py::TestStatsBackupAndRestore::test_backup_restore FAILED [ 64%]
src/test_agent_stats.py::TestStatsBackupAndRestore::test_backup_list FAILED [ 64%]
src/test_agent_stats.py::TestExportFormatsAdvanced::test_export_to_html FAILED [ 66%]
src/test_agent_stats.py::TestFiltering::test_filter_by_file_pattern FAILED [ 67%]
src/test_agent_test_utils.py::TestTestDataSeedingUtilities::test_seeder_creates_reproducible_data FAILED [ 70%]
src/test_agent_test_utils.py::TestTestResultAggregationHelpers::test_aggregator_combines_results FAILED [ 70%]
src/test_agent_test_utils.py::TestTestResultAggregationHelpers::test_aggregator_by_suite FAILED [ 70%]
src/test_agent_test_utils.py::TestSnapshotComparisonUtilities::test_snapshot_save_and_load FAILED [ 70%]
src/test_agent_test_utils.py::TestTestCoverageMeasurementHelpers::test_coverage_tracker_records_hits FAILED [ 70%]
src/test_agent_test_utils.py::TestTestCoverageMeasurementHelpers::test_coverage_tracker_percentage FAILED [ 70%]
src/test_agent_test_utils.py::TestTestLogCaptureUtilities::test_log_capturer_captures_logs FAILED [ 70%]
src/test_agent_test_utils.py::TestTestLogCaptureUtilities::test_log_capturer_filters_by_level FAILED [ 71%]
src/test_agent_test_utils.py::TestTestConfigurationLoadingUtilities::test_config_loader_loads_json FAILED [ 71%]
src/test_agent_test_utils.py::TestTestConfigurationLoadingUtilities::test_config_loader_with_defaults FAILED [ 71%]
src/test_agent_test_utils.py::TestTestReportGenerationHelpers::test_report_generator_creates_html FAILED [ 71%]
src/test_agent_test_utils.py::TestTestReportGenerationHelpers::test_report_generator_creates_json FAILED [ 71%]
src/test_agent_test_utils.py::TestTestIsolationMechanisms::test_isolator_preserves_environment FAILED [ 71%]
src/test_agent_test_utils.py::TestTestRetryUtilities::test_retry_on_failure FAILED [ 71%]
src/test_agent_test_utils.py::TestTestRetryUtilities::test_retry_exhausted FAILED [ 71%]
src/test_agent_test_utils.py::TestTestCleanupHooks::test_cleanup_hooks_execute FAILED [ 71%]
src/test_agent_test_utils.py::TestTestCleanupHooks::test_cleanup_hooks_execute_in_order FAILED [ 71%]
src/test_agent_test_utils.py::TestTestDependencyManagement::test_dependency_resolver_orders_correctly FAILED [ 71%]
src/test_agent_test_utils.py::TestTestDependencyManagement::test_dependency_resolver_detects_cycle FAILED [ 71%]
src/test_agent_test_utils.py::TestTestResourceAllocation::test_resource_pool_allocation FAILED [ 71%]
src/test_agent_test_utils.py::TestTestResourceAllocation::test_resource_pool_release FAILED [ 71%]
src/test_agent_test_utils.py::TestTestResourceAllocation::test_resource_pool_exhaustion FAILED [ 71%]
src/test_agent_tests.py::TestTestSuiteOptimizer::test_init FAILED        [ 76%]
src/test_agent_tests.py::TestTestSuiteOptimizer::test_add_coverage FAILED [ 76%]
src/test_agent_tests.py::TestTestSuiteOptimizer::test_find_redundant_tests FAILED [ 76%]
src/test_agent_tests.py::TestTestSuiteOptimizer::test_suggest_removals FAILED [ 76%]
src/test_agent_tests.py::TestEnvironmentProvisioner::test_init FAILED    [ 76%]
src/test_agent_tests.py::TestEnvironmentProvisioner::test_register_environment FAILED [ 76%]
src/test_agent_tests.py::TestEnvironmentProvisioner::test_provision FAILED [ 77%]
src/test_agent_tests.py::TestEnvironmentProvisioner::test_teardown FAILED [ 77%]
src/test_agent_tests.py::TestTestPrioritizationAlgorithms::test_prioritizer_by_recent_changes FAILED [ 78%]
src/test_agent_tests.py::TestTestPrioritizationAlgorithms::test_prioritizer_by_failure_history FAILED [ 78%]
src/test_agent_tests.py::TestTestPrioritizationAlgorithms::test_prioritizer_combined_strategy FAILED [ 78%]
src/test_agent_tests.py::TestFlakinessDetectionAndQuarantine::test_flakiness_detector_identifies_flaky FAILED [ 78%]
src/test_agent_tests.py::TestFlakinessDetectionAndQuarantine::test_flakiness_detector_stable_test FAILED [ 78%]
src/test_agent_tests.py::TestFlakinessDetectionAndQuarantine::test_quarantine_manager FAILED [ 78%]
src/test_agent_tests.py::TestTestImpactAnalysis::test_impact_analyzer_file_changes FAILED [ 78%]
src/test_agent_tests.py::TestTestImpactAnalysis::test_impact_analyzer_dependency_graph FAILED [ 78%]
src/test_agent_tests.py::TestDataFactoryIntegration::test_data_factory_creates_objects FAILED [ 78%]
src/test_agent_tests.py::TestDataFactoryIntegration::test_data_factory_with_overrides FAILED [ 78%]
src/test_agent_tests.py::TestDataFactoryIntegration::test_data_factory_batch_create FAILED [ 78%]
src/test_agent_tests.py::TestTestParallelizationStrategies::test_round_robin_distribution FAILED [ 78%]
src/test_agent_tests.py::TestTestParallelizationStrategies::test_load_balanced_distribution FAILED [ 78%]
src/test_agent_tests.py::TestCoverageGapAnalysis::test_gap_analyzer_finds_uncovered FAILED [ 78%]
src/test_agent_tests.py::TestCoverageGapAnalysis::test_gap_analyzer_coverage_percentage FAILED [ 78%]
src/test_agent_tests.py::TestContractTestingIntegration::test_contract_validator_valid FAILED [ 78%]
src/test_agent_tests.py::TestContractTestingIntegration::test_contract_validator_invalid FAILED [ 79%]
src/test_agent_tests.py::TestTestSuiteOptimization::test_optimizer_removes_redundant FAILED [ 79%]
src/test_agent_tests.py::TestTestSuiteOptimization::test_optimizer_preserves_coverage FAILED [ 79%]
src/test_agent_tests.py::TestEnvironmentProvisioningAutomation::test_provisioner_creates_environment FAILED [ 79%]
src/test_agent_tests.py::TestEnvironmentProvisioningAutomation::test_provisioner_cleanup FAILED [ 79%]
src/test_agent_tests.py::TestTestReplayFunctionality::test_recorder_saves_execution FAILED [ 79%]
src/test_agent_tests.py::TestTestReplayFunctionality::test_replayer_executes_recording FAILED [ 79%]
src/test_agent_tests.py::TestDocumentationGenerationFromTests::test_doc_generator_extracts_examples FAILED [ 79%]
src/test_base_agent.py::test_improve_content_uses_run_subagent FAILED    [ 83%]
src/test_base_agent.py::test_setup_logging_verbosity_levels SKIPPED      [ 84%]

================================== FAILURES ===================================
________________________ TestABTester.test_create_test ________________________
src\test_agent_backend.py:1583: in test_create_test
    assert variant_b.weight == 0.3
E   AssertionError: assert 0.30000000000000004 == 0.3
E    +  where 0.30000000000000004 = ABTestVariant(name='B', backend='slow', weight=0.30000000000000004, metrics={}, sample_count=0).weight
_____________ test_changes_agent_non_keyword_sets_current_content _____________
src\test_agent_changes_tests.py:75: in test_changes_agent_non_keyword_sets_current_content
    assert agent.improve_content("noop") == "UPDATED"
E   AssertionError: assert 'IMPROVED' == 'UPDATED'
E     
E     - UPDATED
E     + IMPROVED
------------------------------ Captured log call ------------------------------
WARNING  root:agent-changes.py:1200 Could not find associated code file for x.changes.md
______ TestAccessibilityAnalyzer.test_analyze_javascript_interactive_div ______
src\test_agent_coder.py:1502: in test_analyze_javascript_interactive_div
    assert len(semantic_issues) > 0
E   assert 0 > 0
E    +  where 0 = len([])
__________ TestMultiLanguageCodeGeneration.test_generate_python_code __________
src\test_agent_coder.py:1688: in test_generate_python_code
    lang = agent.detect_language()
           ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'CoderAgent' object has no attribute 'detect_language'
________ TestMultiLanguageCodeGeneration.test_generate_javascript_code ________
src\test_agent_coder.py:1701: in test_generate_javascript_code
    lang = agent.detect_language()
           ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'CoderAgent' object has no attribute 'detect_language'
_______________ TestQualityGates.test_quality_score_calculation _______________
src\test_agent_coder.py:2123: in test_quality_score_calculation
    assert score.score >= 0
           ^^^^^^^^^^^
E   AttributeError: 'QualityScore' object has no attribute 'score'
____________ TestMigrationAutomation.test_detect_deprecated_syntax ____________
src\test_agent_coder.py:2259: in test_detect_deprecated_syntax
    assert '"%s"' in content
E   assert '"%s"' in '\n# Old-style string formatting\nmessage="Hello %s" % name\n'
_______________ TestCodeFormatting.test_black_format_detection ________________
src\test_agent_coder.py:2376: in test_black_format_detection
    assert unformatted != formatted
E   AssertionError: assert 'x=1 + 2' != 'x=1 + 2'
_________________________ test_validate_content_valid _________________________
src\test_agent_context.py:336: in test_validate_content_valid
    assert len(errors) == 0
E   AssertionError: assert 1 == 0
E    +  where 1 = len([{'message': 'Context should have a Purpose section', 'required': True, 'rule': 'has_purpose', 'severity': 'error'}])
________________________________ test_is_valid ________________________________
src\test_agent_context.py:347: in test_is_valid
    assert agent.is_valid()
E   assert False
E    +  where False = is_valid()
E    +    where is_valid = <_dv_legacy_agent_context.ContextAgent object at 0x000001B52759A900>.is_valid
_________________________ test_auto_categorize_config _________________________
src\test_agent_context.py:520: in test_auto_categorize_config
    assert category == mod.FileCategory.CONFIGURATION
E   AssertionError: assert <FileCategory.OTHER: 'other'> == <FileCategory.CONFIGURATION: 'configuration'>
E    +  where <FileCategory.CONFIGURATION: 'configuration'> = <enum 'FileCategory'>.CONFIGURATION
E    +    where <enum 'FileCategory'> = <module '_dv_legacy_agent_context' from 'C:\\Users\\kdejo\\DEV\\PyAgent\\src\\agent-context.py'>.FileCategory
______________________ test_semantic_search_engine_init _______________________
src\test_agent_context.py:880: in test_semantic_search_engine_init
    assert engine.algorithm == mod.SearchAlgorithm.KEYWORD
E   AssertionError: assert 'cosine' == <SearchAlgorithm.KEYWORD: 'keyword'>
E    +  where 'cosine' = <_dv_legacy_agent_context.SemanticSearchEngine object at 0x000001B527CAAA50>.algorithm
E    +  and   <SearchAlgorithm.KEYWORD: 'keyword'> = <enum 'SearchAlgorithm'>.KEYWORD
E    +    where <enum 'SearchAlgorithm'> = <module '_dv_legacy_agent_context' from 'C:\\Users\\kdejo\\DEV\\PyAgent\\src\\agent-context.py'>.SearchAlgorithm
_____________________ test_semantic_search_engine_search ______________________
src\test_agent_context.py:908: in test_semantic_search_engine_search
    assert len(results) > 0
E   assert 0 > 0
E    +  where 0 = len([])
______________________ test_semantic_search_engine_clear ______________________
src\test_agent_context.py:917: in test_semantic_search_engine_clear
    engine.clear()
    ^^^^^^^^^^^^
E   AttributeError: 'SemanticSearchEngine' object has no attribute 'clear'
______________________ test_cross_repo_analyzer_analyze _______________________
src\test_agent_context.py:947: in test_cross_repo_analyzer_analyze
    results = analyzer.analyze("file.py")
              ^^^^^^^^^^^^^^^^
E   AttributeError: 'CrossRepoAnalyzer' object has no attribute 'analyze'
______________________ test_context_differ_compute_diff _______________________
src\test_agent_context.py:977: in test_context_differ_compute_diff
    assert isinstance(diff, mod.ContextDiff)
E   AssertionError: assert False
E    +  where False = isinstance(['Line 1: # New', 'Line 2: Content'], <class '_dv_legacy_agent_context.ContextDiff'>)
E    +    where <class '_dv_legacy_agent_context.ContextDiff'> = <module '_dv_legacy_agent_context' from 'C:\\Users\\kdejo\\DEV\\PyAgent\\src\\agent-context.py'>.ContextDiff
______________________ test_context_differ_section_diff _______________________
src\test_agent_context.py:985: in test_context_differ_section_diff
    sections = differ.get_section_changes(
E   TypeError: ContextDiffer.get_section_changes() takes 2 positional arguments but 3 were given
________________________ test_context_differ_summarize ________________________
src\test_agent_context.py:998: in test_context_differ_summarize
    summary = differ.summarize_diff(diff)
              ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextDiffer' object has no attribute 'summarize_diff'
________________________ test_context_inheritance_init ________________________
src\test_agent_context.py:1010: in test_context_inheritance_init
    assert inheritance.mode == mod.InheritanceMode.MERGE
E   AssertionError: assert 'merge' == <InheritanceMode.MERGE: 'merge'>
E    +  where 'merge' = <_dv_legacy_agent_context.ContextInheritance object at 0x000001B523B31160>.mode
E    +  and   <InheritanceMode.MERGE: 'merge'> = <enum 'InheritanceMode'>.MERGE
E    +    where <enum 'InheritanceMode'> = <module '_dv_legacy_agent_context' from 'C:\\Users\\kdejo\\DEV\\PyAgent\\src\\agent-context.py'>.InheritanceMode
_____________________ test_context_inheritance_set_parent _____________________
src\test_agent_context.py:1028: in test_context_inheritance_set_parent
    assert inheritance.parent_path == "/path / to / parent.md"
           ^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextInheritance' object has no attribute 'parent_path'
_______________________ test_context_inheritance_apply ________________________
src\test_agent_context.py:1036: in test_context_inheritance_apply
    result = inheritance.apply("child content", "parent content")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: ContextInheritance.apply() takes 1 positional argument but 3 were given
_________________________ test_nl_query_engine_query __________________________
src\test_agent_context.py:1075: in test_nl_query_engine_query
    result = engine.query("What does this do?")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: NLQueryEngine.query() missing 1 required positional argument: 'contexts'
_________________________ test_context_exporter_init __________________________
src\test_agent_context.py:1096: in test_context_exporter_init
    assert exporter.default_format == mod.ExportFormat.MARKDOWN
           ^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextExporter' object has no attribute 'default_format'
______________________ test_context_exporter_set_format _______________________
src\test_agent_context.py:1104: in test_context_exporter_set_format
    exporter.set_format(mod.ExportFormat.HTML)
    ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextExporter' object has no attribute 'set_format'
___________________ test_context_exporter_supported_formats ___________________
src\test_agent_context.py:1132: in test_context_exporter_supported_formats
    formats = exporter.get_supported_formats()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextExporter' object has no attribute 'get_supported_formats'
________________________ test_context_recommender_init ________________________
src\test_agent_context.py:1144: in test_context_recommender_init
    assert recommender.reference_files == {}
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextRecommender' object has no attribute 'reference_files'
___________________ test_context_recommender_add_reference ____________________
src\test_agent_context.py:1152: in test_context_recommender_add_reference
    recommender.add_reference("good.md", "## Purpose\n## Usage")
    ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextRecommender' object has no attribute 'add_reference'
_____________________ test_context_recommender_recommend ______________________
src\test_agent_context.py:1161: in test_context_recommender_recommend
    recommender.add_reference("good.md", "## Purpose\n## Usage\n## Examples")
    ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextRecommender' object has no attribute 'add_reference'
____________________ test_context_recommender_find_similar ____________________
src\test_agent_context.py:1171: in test_context_recommender_find_similar
    recommender.add_reference("file1.md", "Python module")
    ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextRecommender' object has no attribute 'add_reference'
______________________ test_code_generator_set_language _______________________
src\test_agent_context.py:1193: in test_code_generator_set_language
    generator.set_language("python")
    ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'CodeGenerator' object has no attribute 'set_language'
________________________ test_code_generator_generate _________________________
src\test_agent_context.py:1202: in test_code_generator_generate
    generator.set_language("python")
    ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'CodeGenerator' object has no attribute 'set_language'
______________________ test_code_generator_with_context _______________________
src\test_agent_context.py:1213: in test_code_generator_with_context
    generator.add_context("utils.md", "Utility functions for string processing")
    ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'CodeGenerator' object has no attribute 'add_context'
___________________ test_code_generator_supported_languages ___________________
src\test_agent_context.py:1223: in test_code_generator_supported_languages
    languages = generator.get_supported_languages()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'CodeGenerator' object has no attribute 'get_supported_languages'
______________________ test_refactoring_advisor_analyze _______________________
src\test_agent_context.py:1243: in test_refactoring_advisor_analyze
    suggestions = advisor.analyze("## Purpose\nVery long repeated code...")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\agent-context.py:1031: in analyze
    for path, content in contexts.items():
                         ^^^^^^^^^^^^^^
E   AttributeError: 'str' object has no attribute 'items'
____________________ test_refactoring_advisor_add_pattern _____________________
src\test_agent_context.py:1252: in test_refactoring_advisor_add_pattern
    advisor.add_pattern("custom", r"TODO:", "Add TODO tracking")
    ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'RefactoringAdvisor' object has no attribute 'add_pattern'
_____________________ test_refactoring_advisor_prioritize _____________________
src\test_agent_context.py:1261: in test_refactoring_advisor_prioritize
    suggestions = advisor.analyze("Long content")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\agent-context.py:1031: in analyze
    for path, content in contexts.items():
                         ^^^^^^^^^^^^^^
E   AttributeError: 'str' object has no attribute 'items'
________________________ test_context_visualizer_init _________________________
src\test_agent_context.py:1274: in test_context_visualizer_init
    assert visualizer.viz_type == mod.VisualizationType.DEPENDENCY_GRAPH
           ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextVisualizer' object has no attribute 'viz_type'
______________________ test_context_visualizer_set_type _______________________
src\test_agent_context.py:1282: in test_context_visualizer_set_type
    visualizer.set_type(mod.VisualizationType.MIND_MAP)
    ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextVisualizer' object has no attribute 'set_type'
______________________ test_context_visualizer_add_node _______________________
src\test_agent_context.py:1291: in test_context_visualizer_add_node
    visualizer.add_node("main.py", {"type": "module"})
    ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextVisualizer' object has no attribute 'add_node'
______________________ test_context_visualizer_add_edge _______________________
src\test_agent_context.py:1300: in test_context_visualizer_add_edge
    visualizer.add_node("main.py", {})
    ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextVisualizer' object has no attribute 'add_node'
______________________ test_context_visualizer_generate _______________________
src\test_agent_context.py:1311: in test_context_visualizer_generate
    visualizer.add_node("file.py", {"type": "module"})
    ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextVisualizer' object has no attribute 'add_node'
_____________________ test_context_visualizer_export_json _____________________
src\test_agent_context.py:1321: in test_context_visualizer_export_json
    visualizer.add_node("file.py", {})
    ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ContextVisualizer' object has no attribute 'add_node'
______________________ test_context_sharing_manager_init ______________________
src\test_agent_context.py:1333: in test_context_sharing_manager_init
    manager = mod.ContextSharingManager(owner="alice")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: ContextSharingManager.__init__() got an unexpected keyword argument 'owner'
_________________ test_context_sharing_manager_create_shared __________________
src\test_agent_context.py:1341: in test_context_sharing_manager_create_shared
    manager = mod.ContextSharingManager(owner="alice")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: ContextSharingManager.__init__() got an unexpected keyword argument 'owner'
___________________ test_context_sharing_manager_share_with ___________________
src\test_agent_context.py:1351: in test_context_sharing_manager_share_with
    manager = mod.ContextSharingManager(owner="alice")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: ContextSharingManager.__init__() got an unexpected keyword argument 'owner'
_________________ test_context_sharing_manager_set_permission _________________
src\test_agent_context.py:1361: in test_context_sharing_manager_set_permission
    manager = mod.ContextSharingManager(owner="alice")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: ContextSharingManager.__init__() got an unexpected keyword argument 'owner'
_____________________ test_context_sharing_manager_revoke _____________________
src\test_agent_context.py:1371: in test_context_sharing_manager_revoke
    manager = mod.ContextSharingManager(owner="alice")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: ContextSharingManager.__init__() got an unexpected keyword argument 'owner'
___________________ test_context_sharing_manager_get_shared ___________________
src\test_agent_context.py:1382: in test_context_sharing_manager_get_shared
    manager = mod.ContextSharingManager(owner="alice")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: ContextSharingManager.__init__() got an unexpected keyword argument 'owner'
______________________ test_merge_conflict_resolver_init ______________________
src\test_agent_context.py:1397: in test_merge_conflict_resolver_init
    assert resolver.strategy == mod.ConflictResolution.AUTO
           ^^^^^^^^^^^^^^^^^
E   AttributeError: 'MergeConflictResolver' object has no attribute 'strategy'
__________________ test_merge_conflict_resolver_set_strategy __________________
src\test_agent_context.py:1405: in test_merge_conflict_resolver_set_strategy
    resolver.set_strategy(mod.ConflictResolution.OURS)
    ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'MergeConflictResolver' object has no attribute 'set_strategy'
_____________________ test_merge_conflict_resolver_detect _____________________
src\test_agent_context.py:1414: in test_merge_conflict_resolver_detect
    conflicts = resolver.detect_conflicts(
E   TypeError: MergeConflictResolver.detect_conflicts() takes 2 positional arguments but 3 were given
____________________ test_merge_conflict_resolver_resolve _____________________
src\test_agent_context.py:1431: in test_merge_conflict_resolver_resolve
    resolved = resolver.resolve(conflict)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: MergeConflictResolver.resolve() missing 1 required positional argument: 'strategy'
__________________ test_merge_conflict_resolver_resolve_all ___________________
src\test_agent_context.py:1444: in test_merge_conflict_resolver_resolve_all
    result = resolver.resolve_all(conflicts)
             ^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'MergeConflictResolver' object has no attribute 'resolve_all'
______________________ test_branch_comparer_set_branches ______________________
src\test_agent_context.py:1464: in test_branch_comparer_set_branches
    comparer.set_branches("main", "feature / new-feature")
    ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'BranchComparer' object has no attribute 'set_branches'
________________________ test_branch_comparer_compare _________________________
src\test_agent_context.py:1474: in test_branch_comparer_compare
    comparer.set_branches("main", "develop")
    ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'BranchComparer' object has no attribute 'set_branches'
______________________ test_branch_comparer_get_modified ______________________
src\test_agent_context.py:1484: in test_branch_comparer_get_modified
    comparer.set_branches("main", "develop")
    ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'BranchComparer' object has no attribute 'set_branches'
_______________________ test_branch_comparer_summarize ________________________
src\test_agent_context.py:1494: in test_branch_comparer_summarize
    comparer.set_branches("main", "develop")
    ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'BranchComparer' object has no attribute 'set_branches'
_____________ TestContextNotification.test_alert_marker_detection _____________
src\test_agent_context.py:2002: in test_alert_marker_detection
    target.write_text(content)
C:\Python314\Lib\pathlib\__init__.py:810: in write_text
    return f.write(data)
           ^^^^^^^^^^^^^
C:\Python314\Lib\encodings\cp1252.py:19: in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   UnicodeEncodeError: 'charmap' codec can't encode characters in position 2-3: character maps to <undefined>
________________ TestSeverityScoring_v2.test_critical_severity ________________
src\test_agent_errors.py:1402: in test_critical_severity
    error = errors_module.ErrorEntry(
E   TypeError: ErrorEntry.__init__() got an unexpected keyword argument 'error_type'
______________ TestImprovementCategory.test_all_categories_exist ______________
src\test_agent_improvements.py:104: in test_all_categories_exist
    assert len(categories) == 8
E   AssertionError: assert 11 == 8
E    +  where 11 = len([<ImprovementCategory.PERFORMANCE: 'performance'>, <ImprovementCategory.SECURITY: 'security'>, <ImprovementCategory.MAINTAINABILITY: 'maintainability'>, <ImprovementCategory.READABILITY: 'readability'>, <ImprovementCategory.TESTING: 'testing'>, <ImprovementCategory.DOCUMENTATION: 'documentation'>, ...])
________________ TestImprovementStatus.test_all_statuses_exist ________________
src\test_agent_improvements.py:121: in test_all_statuses_exist
    assert len(statuses) == 6
E   AssertionError: assert 7 == 6
E    +  where 7 = len([<ImprovementStatus.PROPOSED: 'proposed'>, <ImprovementStatus.SUGGESTED: 'suggested'>, <ImprovementStatus.APPROVED: 'approved'>, <ImprovementStatus.IN_PROGRESS: 'in_progress'>, <ImprovementStatus.COMPLETED: 'completed'>, <ImprovementStatus.REJECTED: 'rejected'>, ...])
____________________ TestEffortEstimate.test_effort_values ____________________
src\test_agent_improvements.py:132: in test_effort_values
    assert improvements_module.EffortEstimate.SMALL.value == 3
E   AssertionError: assert 2 == 3
E    +  where 2 = <EffortEstimate.SMALL: 2>.value
E    +    where <EffortEstimate.SMALL: 2> = <enum 'EffortEstimate'>.SMALL
E    +      where <enum 'EffortEstimate'> = <module '_dv_legacy_agent_improvements' from 'C:\\Users\\kdejo\\DEV\\PyAgent\\src\\agent-improvements.py'>.EffortEstimate
______________ TestImprovementDataclass.test_create_improvement _______________
src\test_agent_improvements.py:154: in test_create_improvement
    assert improvement.status == improvements_module.ImprovementStatus.PROPOSED
E   AssertionError: assert <ImprovementStatus.SUGGESTED: 'suggested'> == <ImprovementStatus.PROPOSED: 'proposed'>
E    +  where <ImprovementStatus.SUGGESTED: 'suggested'> = Improvement(id='imp123', title='Add caching', description='Add caching to improve performance', file_path='cache.py', priority=<ImprovementPriority.MEDIUM: 3>, category=<ImprovementCategory.OTHER: 'other'>, status=<ImprovementStatus.SUGGESTED: 'suggested'>, effort=<EffortEstimate.MEDIUM: 3>, impact_score=50.0, created_at='', updated_at='', assignee='', tags=[], dependencies=[], votes=0).status
E    +  and   <ImprovementStatus.PROPOSED: 'proposed'> = <enum 'ImprovementStatus'>.PROPOSED
E    +    where <enum 'ImprovementStatus'> = <module '_dv_legacy_agent_improvements' from 'C:\\Users\\kdejo\\DEV\\PyAgent\\src\\agent-improvements.py'>.ImprovementStatus
__________ TestImprovementRetrieval.test_get_improvements_by_status ___________
src\test_agent_improvements.py:223: in test_get_improvements_by_status
    assert len(proposed) == 2
E   assert 0 == 2
E    +  where 0 = len([])
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_______________ TestEffortEstimation.test_estimate_total_effort _______________
src\test_agent_improvements.py:313: in test_estimate_total_effort
    assert total == 8  # 3 + 5
    ^^^^^^^^^^^^^^^^^
E   AssertionError: assert {'by_category': {'OTHER': 15}, 'estimated_days': 1.875, 'estimated_weeks': 0.375, 'total_hours': 15} == 8
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
________________ TestDependencies.test_get_ready_to_implement _________________
src\test_agent_improvements.py:346: in test_get_ready_to_implement
    assert len(ready) == 1
E   assert 0 == 1
E    +  where 0 = len([])
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
___________________ TestTemplates.test_create_from_template ___________________
src\test_agent_improvements.py:366: in test_create_from_template
    assert imp is not None
E   assert None is not None
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
___________________ TestTemplates.test_add_custom_template ____________________
src\test_agent_improvements.py:371: in test_add_custom_template
    template = improvements_module.ImprovementTemplate(
E   TypeError: ImprovementTemplate.__init__() got an unexpected keyword argument 'description_pattern'. Did you mean 'description_template'?
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
________________________ TestAssignment.test_unassign _________________________
src\test_agent_improvements.py:428: in test_unassign
    assert imp.assignee is None
E   AssertionError: assert '' is None
E    +  where '' = Improvement(id='bba93dd7', title='Unassign me', description='Description', file_path='C:\\Users\\kdejo\\AppData\\Local\\Temp\\pytest-of-keimpe\\pytest-347\\test_unassign0\\improvements.md', priority=<ImprovementPriority.MEDIUM: 3>, category=<ImprovementCategory.OTHER: 'other'>, status=<ImprovementStatus.IN_PROGRESS: 'in_progress'>, effort=<EffortEstimate.MEDIUM: 3>, impact_score=50.0, created_at='2025-12-17T20:34:49.525933', updated_at='2025-12-17T20:34:49.525956', assignee='', tags=[], dependencies=[], votes=0).assignee
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_________________________ TestExport.test_export_csv __________________________
src\test_agent_improvements.py:479: in test_export_csv
    assert "id,title" in exported
E   AssertionError: assert 'id,title' in ''
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_______ TestImprovementImpactScoring.test_impact_scorer_initialization ________
src\test_agent_improvements.py:1306: in test_impact_scorer_initialization
    assert scorer.weights is not None
           ^^^^^^^^^^^^^^
E   AttributeError: 'ImpactScorer' object has no attribute 'weights'
__________ TestImprovementImpactScoring.test_calculate_impact_score ___________
src\test_agent_improvements.py:1315: in test_calculate_impact_score
    score = scorer.calculate_score(imp)
            ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ImpactScorer' object has no attribute 'calculate_score'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
______________ TestImprovementImpactScoring.test_impact_factors _______________
src\test_agent_improvements.py:1323: in test_impact_factors
    scorer.set_weights({
    ^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ImpactScorer' object has no attribute 'set_weights'
______ TestImprovementDependencyResolution.test_dependency_resolver_init ______
src\test_agent_improvements.py:1344: in test_dependency_resolver_init
    assert resolver.dependencies == {}
           ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'DependencyResolver' object has no attribute 'dependencies'
___________ TestImprovementDependencyResolution.test_add_dependency ___________
src\test_agent_improvements.py:1356: in test_add_dependency
    deps = resolver.get_dependencies(imp2.id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'DependencyResolver' object has no attribute 'get_dependencies'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
___________ TestImprovementDependencyResolution.test_resolve_order ____________
src\test_agent_improvements.py:1371: in test_resolve_order
    order = resolver.resolve_order([imp1.id, imp2.id, imp3.id])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: DependencyResolver.resolve_order() takes 1 positional argument but 2 were given
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
__________ TestEffortEstimationAlgorithms.test_effort_estimator_init __________
src\test_agent_improvements.py:1385: in test_effort_estimator_init
    assert estimator.base_rates is not None
           ^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EffortEstimator' object has no attribute 'base_rates'
__________ TestEffortEstimationAlgorithms.test_estimate_simple_task ___________
src\test_agent_improvements.py:1394: in test_estimate_simple_task
    estimate = estimator.estimate(imp, complexity="low")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: EffortEstimator.estimate() got an unexpected keyword argument 'complexity'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
______ TestEffortEstimationAlgorithms.test_estimate_with_historical_data ______
src\test_agent_improvements.py:1403: in test_estimate_with_historical_data
    estimator.add_historical_data("bug_fix", actual_hours=4)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EffortEstimator' object has no attribute 'add_historical_data'. Did you mean: 'historical_data'?
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_________ TestImprovementTemplateInstantiation.test_template_creation _________
src\test_agent_improvements.py:1420: in test_template_creation
    template = ImprovementTemplate(
E   TypeError: ImprovementTemplate.__init__() missing 2 required positional arguments: 'id' and 'category'
______ TestImprovementTemplateInstantiation.test_template_instantiation _______
src\test_agent_improvements.py:1432: in test_template_instantiation
    template = ImprovementTemplate(
E   TypeError: ImprovementTemplate.__init__() missing 2 required positional arguments: 'id' and 'category'
___________ TestStatusWorkflowTransitions.test_workflow_engine_init ___________
src\test_agent_improvements.py:1454: in test_workflow_engine_init
    assert len(engine.states) > 0
               ^^^^^^^^^^^^^
E   AttributeError: 'WorkflowEngine' object has no attribute 'states'
_____________ TestStatusWorkflowTransitions.test_valid_transition _____________
src\test_agent_improvements.py:1463: in test_valid_transition
    result = engine.transition(imp, from_status="pending", to_status="in_progress")
             ^^^^^^^^^^^^^^^^^
E   AttributeError: 'WorkflowEngine' object has no attribute 'transition'. Did you mean: 'transitions'?
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
________ TestStatusWorkflowTransitions.test_invalid_transition_blocked ________
src\test_agent_improvements.py:1475: in test_invalid_transition_blocked
    result = engine.transition(imp, from_status="pending", to_status="completed")
             ^^^^^^^^^^^^^^^^^
E   AttributeError: 'WorkflowEngine' object has no attribute 'transition'. Did you mean: 'transitions'?
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_________________ TestVotingAndPrioritization.test_cast_vote __________________
src\test_agent_improvements.py:1496: in test_cast_vote
    voting.cast_vote(imp.id, voter_id="user1", vote_value=1)
E   TypeError: VotingSystem.cast_vote() got an unexpected keyword argument 'voter_id'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
__________ TestVotingAndPrioritization.test_prioritization_by_votes ___________
src\test_agent_improvements.py:1509: in test_prioritization_by_votes
    voting.cast_vote(imp1.id, "user1", 1)
E   TypeError: VotingSystem.cast_vote() takes 3 positional arguments but 4 were given
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
___________ TestSchedulingAndResourceAllocation.test_scheduler_init ___________
src\test_agent_improvements.py:1526: in test_scheduler_init
    assert scheduler.schedule == []
E   assert {} == []
E     
E     Full diff:
E     - []
E     + {}
________ TestSchedulingAndResourceAllocation.test_schedule_improvement ________
src\test_agent_improvements.py:1537: in test_schedule_improvement
    scheduled = scheduler.schedule_improvement(imp.id, start_date=start_date)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\agent-improvements.py:419: in schedule_improvement
    days = effort_days.get(improvement.effort, 5)
                           ^^^^^^^^^^^^^^^^^^
E   AttributeError: 'str' object has no attribute 'effort'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
________ TestSchedulingAndResourceAllocation.test_resource_allocation _________
src\test_agent_improvements.py:1548: in test_resource_allocation
    scheduler.allocate_resources(imp.id, resources=["dev1", "dev2"])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ImprovementScheduler' object has no attribute 'allocate_resources'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
__________ TestDashboardRenderingAndUpdates.test_dashboard_creation ___________
src\test_agent_improvements.py:1559: in test_dashboard_creation
    ImprovementDashboard = improvements_module.ImprovementDashboard
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'ImprovementDashboard'. Did you mean: 'ImprovementCategory'?
___________ TestDashboardRenderingAndUpdates.test_dashboard_render ____________
src\test_agent_improvements.py:1566: in test_dashboard_render
    ImprovementDashboard = improvements_module.ImprovementDashboard
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'ImprovementDashboard'. Did you mean: 'ImprovementCategory'?
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
______ TestDashboardRenderingAndUpdates.test_dashboard_update_on_change _______
src\test_agent_improvements.py:1578: in test_dashboard_update_on_change
    ImprovementDashboard = improvements_module.ImprovementDashboard
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'ImprovementDashboard'. Did you mean: 'ImprovementCategory'?
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
________ TestAutomatedValidationIntegration.test_validate_improvement _________
src\test_agent_improvements.py:1609: in test_validate_improvement
    assert result.is_valid
E   AssertionError: assert False
E    +  where False = ValidationResult(improvement_id='bcafac4c', is_valid=False, issues=[(<ValidationSeverity.ERROR: 'error'>, 'Category should be more specific')], test_results={}).is_valid
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_________ TestAutomatedValidationIntegration.test_validation_failure __________
src\test_agent_improvements.py:1616: in test_validation_failure
    validator.add_rule("min_description_length", min_length=50)
E   TypeError: ImprovementValidator.add_rule() got an unexpected keyword argument 'min_length'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_______________ TestRollbackTracking.test_rollback_manager_init _______________
src\test_agent_improvements.py:1630: in test_rollback_manager_init
    RollbackManager = improvements_module.RollbackManager
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'RollbackManager'. Did you mean: 'RollbackTracker'?
_______________ TestRollbackTracking.test_create_rollback_point _______________
src\test_agent_improvements.py:1637: in test_create_rollback_point
    RollbackManager = improvements_module.RollbackManager
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'RollbackManager'. Did you mean: 'RollbackTracker'?
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_________________ TestRollbackTracking.test_rollback_to_point _________________
src\test_agent_improvements.py:1648: in test_rollback_to_point
    RollbackManager = improvements_module.RollbackManager
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'RollbackManager'. Did you mean: 'RollbackTracker'?
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_____________ TestCodeAnalysisToolSuggestions.test_analyzer_init ______________
src\test_agent_improvements.py:1665: in test_analyzer_init
    CodeAnalyzer = improvements_module.CodeAnalyzer
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'CodeAnalyzer'
_____ TestCodeAnalysisToolSuggestions.test_suggest_tools_for_improvement ______
src\test_agent_improvements.py:1672: in test_suggest_tools_for_improvement
    CodeAnalyzer = improvements_module.CodeAnalyzer
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'CodeAnalyzer'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_________ TestDocumentationGenerationQuality.test_doc_generator_init __________
src\test_agent_improvements.py:1688: in test_doc_generator_init
    DocGenerator = improvements_module.DocGenerator
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'DocGenerator'
______ TestDocumentationGenerationQuality.test_generate_improvement_docs ______
src\test_agent_improvements.py:1695: in test_generate_improvement_docs
    DocGenerator = improvements_module.DocGenerator
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'DocGenerator'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
________ TestDocumentationGenerationQuality.test_docs_include_metadata ________
src\test_agent_improvements.py:1705: in test_docs_include_metadata
    DocGenerator = improvements_module.DocGenerator
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'DocGenerator'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_______ TestAssignmentAndOwnershipTracking.test_assignment_manager_init _______
src\test_agent_improvements.py:1720: in test_assignment_manager_init
    AssignmentManager = improvements_module.AssignmentManager
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'AssignmentManager'
_________ TestAssignmentAndOwnershipTracking.test_assign_improvement __________
src\test_agent_improvements.py:1727: in test_assign_improvement
    AssignmentManager = improvements_module.AssignmentManager
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'AssignmentManager'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
__________ TestAssignmentAndOwnershipTracking.test_ownership_history __________
src\test_agent_improvements.py:1738: in test_ownership_history
    AssignmentManager = improvements_module.AssignmentManager
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'AssignmentManager'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_____________ TestSLAEnforcementAndAlerting.test_sla_manager_init _____________
src\test_agent_improvements.py:1759: in test_sla_manager_init
    assert manager.sla_policies is not None
           ^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SLAManager' object has no attribute 'sla_policies'
______________ TestSLAEnforcementAndAlerting.test_set_sla_policy ______________
src\test_agent_improvements.py:1766: in test_set_sla_policy
    manager.set_policy("critical", response_hours=4, resolution_hours=24)
    ^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SLAManager' object has no attribute 'set_policy'
___________ TestSLAEnforcementAndAlerting.test_sla_violation_alert ____________
src\test_agent_improvements.py:1777: in test_sla_violation_alert
    manager.set_policy("urgent", resolution_hours=1)
    ^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SLAManager' object has no attribute 'set_policy'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
________ TestAnalyticsAndTrendCalculations.test_analytics_engine_init _________
src\test_agent_improvements.py:1791: in test_analytics_engine_init
    AnalyticsEngine = improvements_module.AnalyticsEngine
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'AnalyticsEngine'
______ TestAnalyticsAndTrendCalculations.test_calculate_completion_trend ______
src\test_agent_improvements.py:1798: in test_calculate_completion_trend
    AnalyticsEngine = improvements_module.AnalyticsEngine
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'AnalyticsEngine'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_________ TestAnalyticsAndTrendCalculations.test_velocity_calculation _________
src\test_agent_improvements.py:1813: in test_velocity_calculation
    AnalyticsEngine = improvements_module.AnalyticsEngine
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'AnalyticsEngine'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
____________ TestImprovementBulkOperations.test_bulk_manager_init _____________
src\test_agent_improvements.py:1832: in test_bulk_manager_init
    BulkManager = improvements_module.BulkManager
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'BulkManager'. Did you mean: 'SLAManager'?
____________ TestImprovementBulkOperations.test_bulk_status_update ____________
src\test_agent_improvements.py:1839: in test_bulk_status_update
    BulkManager = improvements_module.BulkManager
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'BulkManager'. Did you mean: 'SLAManager'?
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_______________ TestImprovementBulkOperations.test_bulk_assign ________________
src\test_agent_improvements.py:1852: in test_bulk_assign
    BulkManager = improvements_module.BulkManager
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'BulkManager'. Did you mean: 'SLAManager'?
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
______________ TestImprovementArchival.test_archive_manager_init ______________
src\test_agent_improvements.py:1869: in test_archive_manager_init
    ArchiveManager = improvements_module.ArchiveManager
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'ArchiveManager'
______________ TestImprovementArchival.test_archive_improvement _______________
src\test_agent_improvements.py:1876: in test_archive_improvement
    ArchiveManager = improvements_module.ArchiveManager
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'ArchiveManager'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
______________ TestImprovementArchival.test_restore_from_archive ______________
src\test_agent_improvements.py:1888: in test_restore_from_archive
    ArchiveManager = improvements_module.ArchiveManager
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'ArchiveManager'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_______________ TestImprovementExportFormats.test_exporter_init _______________
src\test_agent_improvements.py:1905: in test_exporter_init
    ImprovementExporter = improvements_module.ImprovementExporter
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'ImprovementExporter'. Did you mean: 'ImprovementTemplate'?
______________ TestImprovementExportFormats.test_export_to_json _______________
src\test_agent_improvements.py:1912: in test_export_to_json
    ImprovementExporter = improvements_module.ImprovementExporter
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'ImprovementExporter'. Did you mean: 'ImprovementTemplate'?
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_______________ TestImprovementExportFormats.test_export_to_csv _______________
src\test_agent_improvements.py:1925: in test_export_to_csv
    ImprovementExporter = improvements_module.ImprovementExporter
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'ImprovementExporter'. Did you mean: 'ImprovementTemplate'?
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_________ TestImprovementNotifications.test_notification_manager_init _________
src\test_agent_improvements.py:1941: in test_notification_manager_init
    NotificationManager = improvements_module.NotificationManager
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'NotificationManager'
_________ TestImprovementNotifications.test_subscribe_to_improvement __________
src\test_agent_improvements.py:1948: in test_subscribe_to_improvement
    NotificationManager = improvements_module.NotificationManager
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'NotificationManager'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_______ TestImprovementNotifications.test_notification_on_status_change _______
src\test_agent_improvements.py:1960: in test_notification_on_status_change
    NotificationManager = improvements_module.NotificationManager
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'NotificationManager'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
__________ TestImprovementAccessControl.test_access_controller_init ___________
src\test_agent_improvements.py:1979: in test_access_controller_init
    AccessController = improvements_module.AccessController
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'AccessController'
_______________ TestImprovementAccessControl.test_grant_access ________________
src\test_agent_improvements.py:1986: in test_grant_access
    AccessController = improvements_module.AccessController
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'AccessController'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_________ TestImprovementAccessControl.test_deny_unauthorized_access __________
src\test_agent_improvements.py:1997: in test_deny_unauthorized_access
    AccessController = improvements_module.AccessController
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'AccessController'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_____________ TestImprovementAccessControl.test_role_based_access _____________
src\test_agent_improvements.py:2008: in test_role_based_access
    AccessController = improvements_module.AccessController
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_improvements' has no attribute 'AccessController'
----------------------------- Captured log setup ------------------------------
WARNING  root:agent-improvements.py:1512 File improvements.md does not end with .improvements.md
_________ TestImprovementParsing.test_parse_improvement_with_context __________
src\test_agent_improvements.py:2145: in test_parse_improvement_with_context
    assert improvement_with_context["before"] != improvement_with_context["after"]
E   AssertionError: assert 'x=1 + 2' != 'x=1 + 2'
________ TestRefactoringStrategy.test_agent_processor_responsibilities ________
src\test_agent_improvements.py:3234: in test_agent_processor_responsibilities
    assert not processor.should_process_file('__pycache__ / test.py')
E   AssertionError: assert not True
E    +  where True = should_process_file('__pycache__ / test.py')
E    +    where should_process_file = <test_agent_improvements.TestRefactoringStrategy.test_agent_processor_responsibilities.<locals>.AgentProcessor object at 0x000001B51B395010>.should_process_file
___________________ TestCustomMetrics.test_add_metric_value ___________________
src\test_agent_stats.py:131: in test_add_metric_value
    assert history[-1][1] == 3  # (timestamp, value)
           ^^^^^^^^^^^^^^
E   TypeError: 'Metric' object is not subscriptable
______________ TestAnomalyDetection.test_detect_anomaly_outlier _______________
src\test_agent_stats.py:170: in test_detect_anomaly_outlier
    assert result is True
E   assert False is True
___________ TestThresholdsAndAlerting.test_threshold_creates_alert ____________
src\test_agent_stats.py:200: in test_threshold_creates_alert
    assert len(alerts) >= 1
E   assert 0 >= 1
E    +  where 0 = len([])
_____________ TestRetentionPolicies.test_apply_retention_policies _____________
src\test_agent_stats.py:267: in test_apply_retention_policies
    assert len(history) <= 5
E   AssertionError: assert 10 <= 5
E    +  where 10 = len([Metric(name='expire_test', value=0, metric_type=<MetricType.GAUGE: 'gauge'>, timestamp='2025-12-17T20:34:57.856964', namespace='default', tags={}), Metric(name='expire_test', value=1, metric_type=<MetricType.GAUGE: 'gauge'>, timestamp='2025-12-17T20:34:57.856973', namespace='default', tags={}), Metric(name='expire_test', value=2, metric_type=<MetricType.GAUGE: 'gauge'>, timestamp='2025-12-17T20:34:57.856979', namespace='default', tags={}), Metric(name='expire_test', value=3, metric_type=<MetricType.GAUGE: 'gauge'>, timestamp='2025-12-17T20:34:57.856982', namespace='default', tags={}), Metric(name='expire_test', value=4, metric_type=<MetricType.GAUGE: 'gauge'>, timestamp='2025-12-17T20:34:57.856986', namespace='default', tags={}), Metric(name='expire_test', value=5, metric_type=<MetricType.GAUGE: 'gauge'>, timestamp='2025-12-17T20:34:57.856989', namespace='default', tags={}), ...])
___________________ TestCompression.test_decompress_metrics ___________________
src\test_agent_stats.py:312: in test_decompress_metrics
    decompressed = agent.decompress_metrics(compressed)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: StatsAgent.decompress_metrics() missing 1 required positional argument: 'metric_name'
_____________________ TestStatsAgent.test_visualize_stats _____________________
C:\Python314\Lib\unittest\mock.py:1429: in patched
    with self.decoration_helper(patched,
C:\Python314\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
C:\Python314\Lib\unittest\mock.py:1411: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python314\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
C:\Python314\Lib\unittest\mock.py:1487: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
C:\Python314\Lib\pkgutil.py:458: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python314\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   ModuleNotFoundError: No module named 'matplotlib'
________ TestRealTimeStatsStreaming.test_stream_manager_creates_stream ________
src\test_agent_stats.py:1028: in test_stream_manager_creates_stream
    stream = manager.create_stream("cpu_metrics", buffer_size=100)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: StatsStreamManager.create_stream() got an unexpected keyword argument 'buffer_size'
____________ TestRealTimeStatsStreaming.test_stream_receives_data _____________
src\test_agent_stats.py:1040: in test_stream_receives_data
    manager.publish("test_stream", {"value": 42})
E   TypeError: StatsStreamManager.publish() takes 2 positional arguments but 3 were given
_____ TestRealTimeStatsStreaming.test_stream_subscriber_receives_updates ______
src\test_agent_stats.py:1054: in test_stream_subscriber_receives_updates
    manager.subscribe("events", lambda d: received.append(d))
E   TypeError: StatsStreamManager.subscribe() takes 2 positional arguments but 3 were given
________ TestStatsFederationAcrossSources.test_federation_adds_sources ________
src\test_agent_stats.py:1068: in test_federation_adds_sources
    federation.add_source("source1", endpoint="http://localhost:8001")
E   TypeError: StatsFederation.add_source() got an unexpected keyword argument 'endpoint'
______ TestStatsFederationAcrossSources.test_federation_aggregates_data _______
src\test_agent_stats.py:1078: in test_federation_aggregates_data
    federation.add_source("s1", data={"metric1": 100})
E   TypeError: StatsFederation.add_source() got an unexpected keyword argument 'data'
___ TestStatsFederationAcrossSources.test_federation_handles_source_failure ___
src\test_agent_stats.py:1089: in test_federation_handles_source_failure
    federation.add_source("healthy", data={"value": 50})
E   TypeError: StatsFederation.add_source() got an unexpected keyword argument 'data'
_____ TestStatsRetentionPolicyEnforcement.test_retention_policy_creation ______
src\test_agent_stats.py:1104: in test_retention_policy_creation
    policy = RetentionPolicy(
E   TypeError: RetentionPolicy.__init__() got an unexpected keyword argument 'name'
_ TestStatsRetentionPolicyEnforcement.test_retention_enforcer_removes_old_data _
src\test_agent_stats.py:1118: in test_retention_enforcer_removes_old_data
    policy = RetentionPolicy("test", retention_days=1)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: RetentionPolicy.__init__() got an unexpected keyword argument 'retention_days'
__________ TestStatsNamespaceIsolation.test_namespace_metric_scoping __________
src\test_agent_stats.py:1146: in test_namespace_metric_scoping
    prod.set_metric("cpu", 80)
    ^^^^^^^^^^^^^^^
E   AttributeError: 'StatsNamespace' object has no attribute 'set_metric'. Did you mean: 'get_metrics'?
____________ TestStatsNamespaceIsolation.test_namespace_isolation _____________
src\test_agent_stats.py:1157: in test_namespace_isolation
    ns1 = manager.create("ns1")
          ^^^^^^^^^^^^^^
E   AttributeError: 'StatsNamespaceManager' object has no attribute 'create'
______ TestStatsMetricFormulaCalculation.test_formula_simple_calculation ______
src\test_agent_stats.py:1173: in test_formula_simple_calculation
    engine.define("usage_percent", "{used} / {total} * 100")
    ^^^^^^^^^^^^^
E   AttributeError: 'FormulaEngine' object has no attribute 'define'
_______ TestStatsMetricFormulaCalculation.test_formula_with_aggregation _______
src\test_agent_stats.py:1183: in test_formula_with_aggregation
    engine.define("avg_latency", "AVG({latencies})")
    ^^^^^^^^^^^^^
E   AttributeError: 'FormulaEngine' object has no attribute 'define'
__________ TestStatsMetricFormulaCalculation.test_formula_validation __________
src\test_agent_stats.py:1194: in test_formula_validation
    valid = engine.validate("{a} + {b}")
            ^^^^^^^^^^^^^^^
E   AttributeError: 'FormulaEngine' object has no attribute 'validate'
_______________ TestStatsABComparison.test_ab_comparison_basic ________________
src\test_agent_stats.py:1213: in test_ab_comparison_basic
    result = comparator.compare(group_a, group_b)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\agent-stats.py:2256: in compare
    mean_a = sum(a_data) / len(a_data)
             ^^^^^^^^^^^
E   TypeError: unsupported operand type(s) for +: 'int' and 'str'
___________ TestStatsABComparison.test_ab_statistical_significance ____________
src\test_agent_stats.py:1225: in test_ab_statistical_significance
    result = comparator.calculate_significance(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ABComparator' object has no attribute 'calculate_significance'
_________ TestStatsForecastingAccuracy.test_forecaster_predicts_trend _________
src\test_agent_stats.py:1244: in test_forecaster_predicts_trend
    forecast = forecaster.predict(historical, periods=3)
               ^^^^^^^^^^^^^^^^^^
E   AttributeError: 'StatsForecaster' object has no attribute 'predict'
_____ TestStatsForecastingAccuracy.test_forecaster_calculates_confidence ______
src\test_agent_stats.py:1257: in test_forecaster_calculates_confidence
    result = forecaster.predict_with_confidence(historical, periods=2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'StatsForecaster' object has no attribute 'predict_with_confidence'
_________ TestStatsSnapshotCreationAndRestore.test_snapshot_creation __________
src\test_agent_stats.py:1271: in test_snapshot_creation
    manager = StatsSnapshotManager(snapshot_dir=tmp_path)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: StatsSnapshotManager.__init__() got an unexpected keyword argument 'snapshot_dir'
__________ TestStatsSnapshotCreationAndRestore.test_snapshot_restore __________
src\test_agent_stats.py:1283: in test_snapshot_restore
    manager = StatsSnapshotManager(snapshot_dir=tmp_path)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: StatsSnapshotManager.__init__() got an unexpected keyword argument 'snapshot_dir'
___________ TestStatsSnapshotCreationAndRestore.test_snapshot_list ____________
src\test_agent_stats.py:1295: in test_snapshot_list
    manager = StatsSnapshotManager(snapshot_dir=tmp_path)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: StatsSnapshotManager.__init__() got an unexpected keyword argument 'snapshot_dir'
__________ TestStatsThresholdAlerting.test_threshold_alert_triggers ___________
src\test_agent_stats.py:1311: in test_threshold_alert_triggers
    manager.set_threshold("cpu_usage", warning=70, critical=90)
E   TypeError: ThresholdAlertManager.set_threshold() got an unexpected keyword argument 'warning'
_____ TestStatsThresholdAlerting.test_threshold_no_alert_below_threshold ______
src\test_agent_stats.py:1323: in test_threshold_no_alert_below_threshold
    manager.set_threshold("memory", warning=80, critical=95)
E   TypeError: ThresholdAlertManager.set_threshold() got an unexpected keyword argument 'warning'
_______ TestStatsSubscriptionAndNotification.test_subscription_creation _______
src\test_agent_stats.py:1337: in test_subscription_creation
    sub = manager.subscribe(
E   TypeError: StatsSubscriptionManager.subscribe() got an unexpected keyword argument 'subscriber_id'
_______ TestStatsSubscriptionAndNotification.test_notification_delivery _______
src\test_agent_stats.py:1350: in test_notification_delivery
    manager.subscribe("user1", "alerts.*", "webhook")
E   TypeError: StatsSubscriptionManager.subscribe() takes 3 positional arguments but 4 were given
_________ TestStatsExportToMonitoringPlatforms.test_prometheus_export _________
src\test_agent_stats.py:1366: in test_prometheus_export
    exporter = StatsExporter(format="prometheus")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: StatsExporter.__init__() got an unexpected keyword argument 'format'
____________ TestStatsExportToMonitoringPlatforms.test_json_export ____________
src\test_agent_stats.py:1378: in test_json_export
    exporter = StatsExporter(format="json")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: StatsExporter.__init__() got an unexpected keyword argument 'format'
___________ TestStatsAnnotationPersistence.test_annotation_creation ___________
src\test_agent_stats.py:1395: in test_annotation_creation
    annotation = manager.add_annotation(
E   TypeError: StatsAnnotationManager.add_annotation() got an unexpected keyword argument 'timestamp'
__________ TestStatsAnnotationPersistence.test_annotation_retrieval ___________
src\test_agent_stats.py:1409: in test_annotation_retrieval
    manager.add_annotation("cpu", timestamp=100, text="Event 1")
E   TypeError: StatsAnnotationManager.add_annotation() got an unexpected keyword argument 'timestamp'
___________ TestStatsChangeNotificationSystem.test_change_detection ___________
src\test_agent_stats.py:1423: in test_change_detection
    detector = StatsChangeDetector(threshold_percent=10)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: StatsChangeDetector.__init__() got an unexpected keyword argument 'threshold_percent'
_________ TestStatsChangeNotificationSystem.test_change_notification __________
src\test_agent_stats.py:1435: in test_change_notification
    detector = StatsChangeDetector(threshold_percent=20)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: StatsChangeDetector.__init__() got an unexpected keyword argument 'threshold_percent'
________ TestStatsCompressionAlgorithms.test_compression_reduces_size _________
src\test_agent_stats.py:1457: in test_compression_reduces_size
    compressed = compressor.compress(data)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^
src\agent-stats.py:2475: in compress
    return zlib.compress(data)
           ^^^^^^^^^^^^^^^^^^^
E   TypeError: a bytes-like object is required, not 'list'
___ TestStatsCompressionAlgorithms.test_compression_decompression_roundtrip ___
src\test_agent_stats.py:1468: in test_compression_decompression_roundtrip
    compressed = compressor.compress(original)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\agent-stats.py:2475: in compress
    return zlib.compress(data)
           ^^^^^^^^^^^^^^^^^^^
E   TypeError: a bytes-like object is required, not 'list'
_______________ TestStatsRollupCalculations.test_hourly_rollup ________________
src\test_agent_stats.py:1485: in test_hourly_rollup
    calculator.add_point("cpu", timestamp=i * 60, value=50 + i % 10)
    ^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'StatsRollupCalculator' object has no attribute 'add_point'
________________ TestStatsRollupCalculations.test_daily_rollup ________________
src\test_agent_stats.py:1498: in test_daily_rollup
    calculator.add_point("memory", timestamp=i * 3600, value=60)
    ^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'StatsRollupCalculator' object has no attribute 'add_point'
____________ TestStatsQueryPerformance.test_query_with_time_range _____________
src\test_agent_stats.py:1515: in test_query_with_time_range
    engine.insert("metric1", timestamp=i * 1000, value=i)
    ^^^^^^^^^^^^^
E   AttributeError: 'StatsQueryEngine' object has no attribute 'insert'
____________ TestStatsQueryPerformance.test_query_with_aggregation ____________
src\test_agent_stats.py:1527: in test_query_with_aggregation
    engine.insert("metric1", timestamp=1000, value=10)
    ^^^^^^^^^^^^^
E   AttributeError: 'StatsQueryEngine' object has no attribute 'insert'
______________ TestStatsAccessControl.test_access_control_grant _______________
src\test_agent_stats.py:1543: in test_access_control_grant
    controller.grant("user1", "metrics.*", level="read")
    ^^^^^^^^^^^^^^^^
E   AttributeError: 'StatsAccessController' object has no attribute 'grant'
_______________ TestStatsAccessControl.test_access_control_deny _______________
src\test_agent_stats.py:1552: in test_access_control_deny
    controller.grant("user1", "public.*", level="read")
    ^^^^^^^^^^^^^^^^
E   AttributeError: 'StatsAccessController' object has no attribute 'grant'
___________ TestStatsAccessControl.test_access_control_write_level ____________
src\test_agent_stats.py:1561: in test_access_control_write_level
    controller.grant("admin", "metrics.*", level="write")
    ^^^^^^^^^^^^^^^^
E   AttributeError: 'StatsAccessController' object has no attribute 'grant'
_______________ TestStatsBackupAndRestore.test_backup_creation ________________
src\test_agent_stats.py:1574: in test_backup_creation
    manager = StatsBackupManager(backup_dir=tmp_path)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: StatsBackupManager.__init__() got an unexpected keyword argument 'backup_dir'
________________ TestStatsBackupAndRestore.test_backup_restore ________________
src\test_agent_stats.py:1586: in test_backup_restore
    manager = StatsBackupManager(backup_dir=tmp_path)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: StatsBackupManager.__init__() got an unexpected keyword argument 'backup_dir'
_________________ TestStatsBackupAndRestore.test_backup_list __________________
src\test_agent_stats.py:1598: in test_backup_list
    manager = StatsBackupManager(backup_dir=tmp_path)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: StatsBackupManager.__init__() got an unexpected keyword argument 'backup_dir'
________________ TestExportFormatsAdvanced.test_export_to_html ________________
src\test_agent_stats.py:2383: in test_export_to_html
    assert "100" in html
E   assert '100' in "\n        <table>\n            <tr><td>Files</td><td>{stats['files']}</td></tr>\n            <tr><td>Errors</td><td>{stats['errors']}</td></tr>\n        </table>\n        "
__________________ TestFiltering.test_filter_by_file_pattern __________________
src\test_agent_stats.py:2563: in test_filter_by_file_pattern
    assert len(src_only) == 2
E   assert 0 == 2
E    +  where 0 = len([])
_____ TestTestDataSeedingUtilities.test_seeder_creates_reproducible_data ______
src\test_agent_test_utils.py:734: in test_seeder_creates_reproducible_data
    assert data1 == data2
E   AssertionError: assert '# Python fil...  return 54\n' == '# Python fil...  return 94\n'
E     
E       # Python file
E       def func_12345():
E     -     return 94
E     ?            ^
E     +     return 54
E     ?            ^
______ TestTestResultAggregationHelpers.test_aggregator_combines_results ______
src\test_agent_test_utils.py:942: in test_aggregator_combines_results
    aggregator.add_result("suite1", "test1", "passed")
src\agent_test_utils.py:1412: in add_result
    test_result = TestResult(
E   TypeError: TestResult.__init__() got an unexpected keyword argument 'name'
__________ TestTestResultAggregationHelpers.test_aggregator_by_suite __________
src\test_agent_test_utils.py:956: in test_aggregator_by_suite
    aggregator.add_result("suite1", "test1", "passed")
src\agent_test_utils.py:1412: in add_result
    test_result = TestResult(
E   TypeError: TestResult.__init__() got an unexpected keyword argument 'name'
_________ TestSnapshotComparisonUtilities.test_snapshot_save_and_load _________
src\test_agent_test_utils.py:1012: in test_snapshot_save_and_load
    assert loaded == data
E   AssertionError: assert TestSnapshot(name='test_snapshot', content={'key': 'value', 'list': [1, 2, 3]}, content_hash='f797ccd1d99d43edb6a2bf11705f78fdd13b576a6d762c640bb430e5ab271e78', created_at=1766003703.7094162, updated_at=1766003703.7094176) == {'key': 'value', 'list': [1, 2, 3]}
____ TestTestCoverageMeasurementHelpers.test_coverage_tracker_records_hits ____
src\test_agent_test_utils.py:1044: in test_coverage_tracker_records_hits
    CoverageTracker = utils_module.CoverageTracker
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_test_utils' has no attribute 'CoverageTracker'
_____ TestTestCoverageMeasurementHelpers.test_coverage_tracker_percentage _____
src\test_agent_test_utils.py:1057: in test_coverage_tracker_percentage
    CoverageTracker = utils_module.CoverageTracker
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_test_utils' has no attribute 'CoverageTracker'
_________ TestTestLogCaptureUtilities.test_log_capturer_captures_logs _________
src\test_agent_test_utils.py:1076: in test_log_capturer_captures_logs
    with LogCapturer() as capturer:
         ^^^^^^^^^^^^^
E   TypeError: '_dv_legacy_agent_test_utils.LogCapturer' object does not support the context manager protocol (missed __exit__ method)
_______ TestTestLogCaptureUtilities.test_log_capturer_filters_by_level ________
src\test_agent_test_utils.py:1088: in test_log_capturer_filters_by_level
    with LogCapturer(level=logging.ERROR) as capturer:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: '_dv_legacy_agent_test_utils.LogCapturer' object does not support the context manager protocol (missed __exit__ method)
_____ TestTestConfigurationLoadingUtilities.test_config_loader_loads_json _____
src\test_agent_test_utils.py:1109: in test_config_loader_loads_json
    config = loader.load(config_file)
             ^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TestConfigLoader.load() takes 1 positional argument but 2 were given
___ TestTestConfigurationLoadingUtilities.test_config_loader_with_defaults ____
src\test_agent_test_utils.py:1122: in test_config_loader_with_defaults
    config = loader.load(config_file, defaults={"timeout": 30, "retries": 5})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TestConfigLoader.load() got an unexpected keyword argument 'defaults'
_____ TestTestReportGenerationHelpers.test_report_generator_creates_html ______
src\test_agent_test_utils.py:1135: in test_report_generator_creates_html
    generator = TestReportGenerator(output_dir=tmp_path)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TestReportGenerator.__init__() got an unexpected keyword argument 'output_dir'
_____ TestTestReportGenerationHelpers.test_report_generator_creates_json ______
src\test_agent_test_utils.py:1151: in test_report_generator_creates_json
    generator = TestReportGenerator(output_dir=tmp_path)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TestReportGenerator.__init__() got an unexpected keyword argument 'output_dir'
_______ TestTestIsolationMechanisms.test_isolator_preserves_environment _______
src\test_agent_test_utils.py:1182: in test_isolator_preserves_environment
    EnvironmentIsolator = utils_module.EnvironmentIsolator
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_test_utils' has no attribute 'EnvironmentIsolator'. Did you mean: 'EnvironmentDetector'?
________________ TestTestRetryUtilities.test_retry_on_failure _________________
src\test_agent_test_utils.py:1200: in test_retry_on_failure
    RetryHelper = utils_module.RetryHelper
                  ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_test_utils' has no attribute 'RetryHelper'
_________________ TestTestRetryUtilities.test_retry_exhausted _________________
src\test_agent_test_utils.py:1218: in test_retry_exhausted
    RetryHelper = utils_module.RetryHelper
                  ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: module '_dv_legacy_agent_test_utils' has no attribute 'RetryHelper'
_______________ TestTestCleanupHooks.test_cleanup_hooks_execute _______________
src\test_agent_test_utils.py:1239: in test_cleanup_hooks_execute
    manager.register(lambda: cleaned.append("first"))
    ^^^^^^^^^^^^^^^^
E   AttributeError: 'CleanupManager' object has no attribute 'register'
__________ TestTestCleanupHooks.test_cleanup_hooks_execute_in_order ___________
src\test_agent_test_utils.py:1254: in test_cleanup_hooks_execute_in_order
    manager.register(lambda: order.append(1))
    ^^^^^^^^^^^^^^^^
E   AttributeError: 'CleanupManager' object has no attribute 'register'
___ TestTestDependencyManagement.test_dependency_resolver_orders_correctly ____
src\test_agent_test_utils.py:1272: in test_dependency_resolver_orders_correctly
    resolver.add_test("test_c", depends_on=["test_b"])
    ^^^^^^^^^^^^^^^^^
E   AttributeError: 'DependencyResolver' object has no attribute 'add_test'
_____ TestTestDependencyManagement.test_dependency_resolver_detects_cycle _____
src\test_agent_test_utils.py:1286: in test_dependency_resolver_detects_cycle
    resolver.add_test("test_a", depends_on=["test_b"])
    ^^^^^^^^^^^^^^^^^
E   AttributeError: 'DependencyResolver' object has no attribute 'add_test'
__________ TestTestResourceAllocation.test_resource_pool_allocation ___________
src\test_agent_test_utils.py:1302: in test_resource_pool_allocation
    r1 = pool.acquire("test1")
         ^^^^^^^^^^^^^^^^^^^^^
src\agent_test_utils.py:3008: in acquire
    if self.available >= count:
       ^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: '>=' not supported between instances of 'int' and 'str'
____________ TestTestResourceAllocation.test_resource_pool_release ____________
src\test_agent_test_utils.py:1315: in test_resource_pool_release
    r1 = pool.acquire("test1")
         ^^^^^^^^^^^^^^^^^^^^^
src\agent_test_utils.py:3008: in acquire
    if self.available >= count:
       ^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: '>=' not supported between instances of 'int' and 'str'
__________ TestTestResourceAllocation.test_resource_pool_exhaustion ___________
src\test_agent_test_utils.py:1327: in test_resource_pool_exhaustion
    r1 = pool.acquire("test1")
         ^^^^^^^^^^^^^^^^^^^^^
src\agent_test_utils.py:3008: in acquire
    if self.available >= count:
       ^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: '>=' not supported between instances of 'int' and 'str'
______________________ TestTestSuiteOptimizer.test_init _______________________
src\test_agent_tests.py:605: in test_init
    optimizer = tests_module.TestSuiteOptimizer()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TestSuiteOptimizer.__init__() missing 1 required positional argument: 'tests'
__________________ TestTestSuiteOptimizer.test_add_coverage ___________________
src\test_agent_tests.py:610: in test_add_coverage
    optimizer = tests_module.TestSuiteOptimizer()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TestSuiteOptimizer.__init__() missing 1 required positional argument: 'tests'
______________ TestTestSuiteOptimizer.test_find_redundant_tests _______________
src\test_agent_tests.py:616: in test_find_redundant_tests
    optimizer = tests_module.TestSuiteOptimizer()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TestSuiteOptimizer.__init__() missing 1 required positional argument: 'tests'
________________ TestTestSuiteOptimizer.test_suggest_removals _________________
src\test_agent_tests.py:624: in test_suggest_removals
    optimizer = tests_module.TestSuiteOptimizer()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TestSuiteOptimizer.__init__() missing 1 required positional argument: 'tests'
____________________ TestEnvironmentProvisioner.test_init _____________________
src\test_agent_tests.py:640: in test_init
    assert provisioner.environments == {}
           ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EnvironmentProvisioner' object has no attribute 'environments'
____________ TestEnvironmentProvisioner.test_register_environment _____________
src\test_agent_tests.py:645: in test_register_environment
    env = provisioner.register_environment("staging", "http://staging.example.com")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EnvironmentProvisioner' object has no attribute 'register_environment'
__________________ TestEnvironmentProvisioner.test_provision __________________
src\test_agent_tests.py:651: in test_provision
    provisioner.register_environment("staging")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EnvironmentProvisioner' object has no attribute 'register_environment'
__________________ TestEnvironmentProvisioner.test_teardown ___________________
src\test_agent_tests.py:658: in test_teardown
    provisioner.register_environment("staging")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EnvironmentProvisioner' object has no attribute 'register_environment'
_____ TestTestPrioritizationAlgorithms.test_prioritizer_by_recent_changes _____
src\test_agent_tests.py:1013: in test_prioritizer_by_recent_changes
    prioritizer.add_test("test1", changed_recently=True)
E   TypeError: TestPrioritizer.add_test() got an unexpected keyword argument 'changed_recently'
____ TestTestPrioritizationAlgorithms.test_prioritizer_by_failure_history _____
src\test_agent_tests.py:1030: in test_prioritizer_by_failure_history
    ordered = prioritizer.prioritize_by_failure_rate()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'TestPrioritizer' object has no attribute 'prioritize_by_failure_rate'. Did you mean: 'prioritize_by_failure_history'?
_____ TestTestPrioritizationAlgorithms.test_prioritizer_combined_strategy _____
src\test_agent_tests.py:1038: in test_prioritizer_combined_strategy
    prioritizer.add_test("test1", changed_recently=False, failure_rate=0.9)
E   TypeError: TestPrioritizer.add_test() got an unexpected keyword argument 'changed_recently'
_ TestFlakinessDetectionAndQuarantine.test_flakiness_detector_identifies_flaky _
src\test_agent_tests.py:1054: in test_flakiness_detector_identifies_flaky
    detector.record_result("test1", passed=True)
    ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'FlakinessDetector' object has no attribute 'record_result'
___ TestFlakinessDetectionAndQuarantine.test_flakiness_detector_stable_test ___
src\test_agent_tests.py:1067: in test_flakiness_detector_stable_test
    detector.record_result("test_stable", passed=True)
    ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'FlakinessDetector' object has no attribute 'record_result'
_________ TestFlakinessDetectionAndQuarantine.test_quarantine_manager _________
src\test_agent_tests.py:1076: in test_quarantine_manager
    manager.quarantine("flaky_test1", reason="Flaky for 7 days")
E   TypeError: QuarantineManager.quarantine() got an unexpected keyword argument 'reason'
__________ TestTestImpactAnalysis.test_impact_analyzer_file_changes ___________
src\test_agent_tests.py:1090: in test_impact_analyzer_file_changes
    analyzer.map_test_to_files("test_auth", ["auth.py", "utils.py"])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ImpactAnalyzer' object has no attribute 'map_test_to_files'
________ TestTestImpactAnalysis.test_impact_analyzer_dependency_graph _________
src\test_agent_tests.py:1103: in test_impact_analyzer_dependency_graph
    analyzer.map_test_to_files("test_auth", ["auth.py"])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ImpactAnalyzer' object has no attribute 'map_test_to_files'
________ TestDataFactoryIntegration.test_data_factory_creates_objects _________
src\test_agent_tests.py:1121: in test_data_factory_creates_objects
    factory.register("user", {
    ^^^^^^^^^^^^^^^^
E   AttributeError: 'DataFactory' object has no attribute 'register'
_________ TestDataFactoryIntegration.test_data_factory_with_overrides _________
src\test_agent_tests.py:1137: in test_data_factory_with_overrides
    factory.register("user", {"name": "random_string", "age": 25})
    ^^^^^^^^^^^^^^^^
E   AttributeError: 'DataFactory' object has no attribute 'register'
__________ TestDataFactoryIntegration.test_data_factory_batch_create __________
src\test_agent_tests.py:1148: in test_data_factory_batch_create
    factory.register("item", {"value": "random_int"})
    ^^^^^^^^^^^^^^^^
E   AttributeError: 'DataFactory' object has no attribute 'register'
_______ TestTestParallelizationStrategies.test_round_robin_distribution _______
src\test_agent_tests.py:1161: in test_round_robin_distribution
    strategy = ParallelizationStrategy("round_robin", workers=4)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: ParallelizationStrategy.__init__() got an unexpected keyword argument 'workers'
______ TestTestParallelizationStrategies.test_load_balanced_distribution ______
src\test_agent_tests.py:1174: in test_load_balanced_distribution
    strategy = ParallelizationStrategy("load_balanced", workers=2)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: ParallelizationStrategy.__init__() got an unexpected keyword argument 'workers'
__________ TestCoverageGapAnalysis.test_gap_analyzer_finds_uncovered __________
src\test_agent_tests.py:1191: in test_gap_analyzer_finds_uncovered
    analyzer.add_coverage_data("file.py", covered_lines={1, 2, 3, 5, 6})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'CoverageGapAnalyzer' object has no attribute 'add_coverage_data'
________ TestCoverageGapAnalysis.test_gap_analyzer_coverage_percentage ________
src\test_agent_tests.py:1203: in test_gap_analyzer_coverage_percentage
    analyzer.add_coverage_data("file.py", covered_lines={1, 2, 3, 4, 5})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'CoverageGapAnalyzer' object has no attribute 'add_coverage_data'
________ TestContractTestingIntegration.test_contract_validator_valid _________
src\test_agent_tests.py:1223: in test_contract_validator_valid
    result = validator.validate(
E   TypeError: ContractValidator.validate() got an unexpected keyword argument 'actual_response'
_______ TestContractTestingIntegration.test_contract_validator_invalid ________
src\test_agent_tests.py:1238: in test_contract_validator_invalid
    result = validator.validate(
E   TypeError: ContractValidator.validate() got an unexpected keyword argument 'actual_response'
_________ TestTestSuiteOptimization.test_optimizer_removes_redundant __________
src\test_agent_tests.py:1252: in test_optimizer_removes_redundant
    optimizer = TestSuiteOptimizer()
                ^^^^^^^^^^^^^^^^^^^^
E   TypeError: TestSuiteOptimizer.__init__() missing 1 required positional argument: 'tests'
_________ TestTestSuiteOptimization.test_optimizer_preserves_coverage _________
src\test_agent_tests.py:1266: in test_optimizer_preserves_coverage
    optimizer = TestSuiteOptimizer()
                ^^^^^^^^^^^^^^^^^^^^
E   TypeError: TestSuiteOptimizer.__init__() missing 1 required positional argument: 'tests'
_ TestEnvironmentProvisioningAutomation.test_provisioner_creates_environment __
src\test_agent_tests.py:1286: in test_provisioner_creates_environment
    env = provisioner.provision({
E   TypeError: EnvironmentProvisioner.provision() takes 1 positional argument but 2 were given
_______ TestEnvironmentProvisioningAutomation.test_provisioner_cleanup ________
src\test_agent_tests.py:1299: in test_provisioner_cleanup
    env = provisioner.provision({"python_version": "3.11"})
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: EnvironmentProvisioner.provision() takes 1 positional argument but 2 were given
__________ TestTestReplayFunctionality.test_recorder_saves_execution __________
src\test_agent_tests.py:1313: in test_recorder_saves_execution
    recorder.start_recording("test_example")
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'TestRecorder' object has no attribute 'start_recording'
________ TestTestReplayFunctionality.test_replayer_executes_recording _________
src\test_agent_tests.py:1327: in test_replayer_executes_recording
    recorder.start_recording("test1")
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'TestRecorder' object has no attribute 'start_recording'
__ TestDocumentationGenerationFromTests.test_doc_generator_extracts_examples __
src\test_agent_tests.py:1346: in test_doc_generator_extracts_examples
    generator.add_test(
E   TypeError: TestDocGenerator.add_test() got an unexpected keyword argument 'docstring'
___________________ test_improve_content_uses_run_subagent ____________________
src\test_base_agent.py:71: in test_improve_content_uses_run_subagent
    assert agent.improve_content("prompt") == "AFTER"
E   AssertionError: assert 'IMPROVED' == 'AFTER'
E     
E     - AFTER
E     + IMPROVED
============================== warnings summary ===============================
src/test_agent_backend.py::TestAuditLogger::test_log_request
src/test_agent_backend.py::TestAuditLogger::test_get_recent_entries
src/test_agent_backend.py::TestAuditLogger::test_get_recent_entries
src/test_agent_backend.py::TestPhase6Integration::test_tracer_with_audit_logger
  C:\Users\kdejo\DEV\PyAgent\src\agent_backend.py:1026: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    "timestamp": datetime.utcnow().isoformat(),

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED src/test_agent_backend.py::TestABTester::test_create_test - AssertionE...
FAILED src/test_agent_changes_tests.py::test_changes_agent_non_keyword_sets_current_content
FAILED src/test_agent_coder.py::TestAccessibilityAnalyzer::test_analyze_javascript_interactive_div
FAILED src/test_agent_coder.py::TestMultiLanguageCodeGeneration::test_generate_python_code
FAILED src/test_agent_coder.py::TestMultiLanguageCodeGeneration::test_generate_javascript_code
FAILED src/test_agent_coder.py::TestQualityGates::test_quality_score_calculation
FAILED src/test_agent_coder.py::TestMigrationAutomation::test_detect_deprecated_syntax
FAILED src/test_agent_coder.py::TestCodeFormatting::test_black_format_detection
FAILED src/test_agent_context.py::test_validate_content_valid - AssertionErro...
FAILED src/test_agent_context.py::test_is_valid - assert False
FAILED src/test_agent_context.py::test_auto_categorize_config - AssertionErro...
FAILED src/test_agent_context.py::test_semantic_search_engine_init - Assertio...
FAILED src/test_agent_context.py::test_semantic_search_engine_search - assert...
FAILED src/test_agent_context.py::test_semantic_search_engine_clear - Attribu...
FAILED src/test_agent_context.py::test_cross_repo_analyzer_analyze - Attribut...
FAILED src/test_agent_context.py::test_context_differ_compute_diff - Assertio...
FAILED src/test_agent_context.py::test_context_differ_section_diff - TypeErro...
FAILED src/test_agent_context.py::test_context_differ_summarize - AttributeEr...
FAILED src/test_agent_context.py::test_context_inheritance_init - AssertionEr...
FAILED src/test_agent_context.py::test_context_inheritance_set_parent - Attri...
FAILED src/test_agent_context.py::test_context_inheritance_apply - TypeError:...
FAILED src/test_agent_context.py::test_nl_query_engine_query - TypeError: NLQ...
FAILED src/test_agent_context.py::test_context_exporter_init - AttributeError...
FAILED src/test_agent_context.py::test_context_exporter_set_format - Attribut...
FAILED src/test_agent_context.py::test_context_exporter_supported_formats - A...
FAILED src/test_agent_context.py::test_context_recommender_init - AttributeEr...
FAILED src/test_agent_context.py::test_context_recommender_add_reference - At...
FAILED src/test_agent_context.py::test_context_recommender_recommend - Attrib...
FAILED src/test_agent_context.py::test_context_recommender_find_similar - Att...
FAILED src/test_agent_context.py::test_code_generator_set_language - Attribut...
FAILED src/test_agent_context.py::test_code_generator_generate - AttributeErr...
FAILED src/test_agent_context.py::test_code_generator_with_context - Attribut...
FAILED src/test_agent_context.py::test_code_generator_supported_languages - A...
FAILED src/test_agent_context.py::test_refactoring_advisor_analyze - Attribut...
FAILED src/test_agent_context.py::test_refactoring_advisor_add_pattern - Attr...
FAILED src/test_agent_context.py::test_refactoring_advisor_prioritize - Attri...
FAILED src/test_agent_context.py::test_context_visualizer_init - AttributeErr...
FAILED src/test_agent_context.py::test_context_visualizer_set_type - Attribut...
FAILED src/test_agent_context.py::test_context_visualizer_add_node - Attribut...
FAILED src/test_agent_context.py::test_context_visualizer_add_edge - Attribut...
FAILED src/test_agent_context.py::test_context_visualizer_generate - Attribut...
FAILED src/test_agent_context.py::test_context_visualizer_export_json - Attri...
FAILED src/test_agent_context.py::test_context_sharing_manager_init - TypeErr...
FAILED src/test_agent_context.py::test_context_sharing_manager_create_shared
FAILED src/test_agent_context.py::test_context_sharing_manager_share_with - T...
FAILED src/test_agent_context.py::test_context_sharing_manager_set_permission
FAILED src/test_agent_context.py::test_context_sharing_manager_revoke - TypeE...
FAILED src/test_agent_context.py::test_context_sharing_manager_get_shared - T...
FAILED src/test_agent_context.py::test_merge_conflict_resolver_init - Attribu...
FAILED src/test_agent_context.py::test_merge_conflict_resolver_set_strategy
FAILED src/test_agent_context.py::test_merge_conflict_resolver_detect - TypeE...
FAILED src/test_agent_context.py::test_merge_conflict_resolver_resolve - Type...
FAILED src/test_agent_context.py::test_merge_conflict_resolver_resolve_all - ...
FAILED src/test_agent_context.py::test_branch_comparer_set_branches - Attribu...
FAILED src/test_agent_context.py::test_branch_comparer_compare - AttributeErr...
FAILED src/test_agent_context.py::test_branch_comparer_get_modified - Attribu...
FAILED src/test_agent_context.py::test_branch_comparer_summarize - AttributeE...
FAILED src/test_agent_context.py::TestContextNotification::test_alert_marker_detection
FAILED src/test_agent_errors.py::TestSeverityScoring_v2::test_critical_severity
FAILED src/test_agent_improvements.py::TestImprovementCategory::test_all_categories_exist
FAILED src/test_agent_improvements.py::TestImprovementStatus::test_all_statuses_exist
FAILED src/test_agent_improvements.py::TestEffortEstimate::test_effort_values
FAILED src/test_agent_improvements.py::TestImprovementDataclass::test_create_improvement
FAILED src/test_agent_improvements.py::TestImprovementRetrieval::test_get_improvements_by_status
FAILED src/test_agent_improvements.py::TestEffortEstimation::test_estimate_total_effort
FAILED src/test_agent_improvements.py::TestDependencies::test_get_ready_to_implement
FAILED src/test_agent_improvements.py::TestTemplates::test_create_from_template
FAILED src/test_agent_improvements.py::TestTemplates::test_add_custom_template
FAILED src/test_agent_improvements.py::TestAssignment::test_unassign - Assert...
FAILED src/test_agent_improvements.py::TestExport::test_export_csv - Assertio...
FAILED src/test_agent_improvements.py::TestImprovementImpactScoring::test_impact_scorer_initialization
FAILED src/test_agent_improvements.py::TestImprovementImpactScoring::test_calculate_impact_score
FAILED src/test_agent_improvements.py::TestImprovementImpactScoring::test_impact_factors
FAILED src/test_agent_improvements.py::TestImprovementDependencyResolution::test_dependency_resolver_init
FAILED src/test_agent_improvements.py::TestImprovementDependencyResolution::test_add_dependency
FAILED src/test_agent_improvements.py::TestImprovementDependencyResolution::test_resolve_order
FAILED src/test_agent_improvements.py::TestEffortEstimationAlgorithms::test_effort_estimator_init
FAILED src/test_agent_improvements.py::TestEffortEstimationAlgorithms::test_estimate_simple_task
FAILED src/test_agent_improvements.py::TestEffortEstimationAlgorithms::test_estimate_with_historical_data
FAILED src/test_agent_improvements.py::TestImprovementTemplateInstantiation::test_template_creation
FAILED src/test_agent_improvements.py::TestImprovementTemplateInstantiation::test_template_instantiation
FAILED src/test_agent_improvements.py::TestStatusWorkflowTransitions::test_workflow_engine_init
FAILED src/test_agent_improvements.py::TestStatusWorkflowTransitions::test_valid_transition
FAILED src/test_agent_improvements.py::TestStatusWorkflowTransitions::test_invalid_transition_blocked
FAILED src/test_agent_improvements.py::TestVotingAndPrioritization::test_cast_vote
FAILED src/test_agent_improvements.py::TestVotingAndPrioritization::test_prioritization_by_votes
FAILED src/test_agent_improvements.py::TestSchedulingAndResourceAllocation::test_scheduler_init
FAILED src/test_agent_improvements.py::TestSchedulingAndResourceAllocation::test_schedule_improvement
FAILED src/test_agent_improvements.py::TestSchedulingAndResourceAllocation::test_resource_allocation
FAILED src/test_agent_improvements.py::TestDashboardRenderingAndUpdates::test_dashboard_creation
FAILED src/test_agent_improvements.py::TestDashboardRenderingAndUpdates::test_dashboard_render
FAILED src/test_agent_improvements.py::TestDashboardRenderingAndUpdates::test_dashboard_update_on_change
FAILED src/test_agent_improvements.py::TestAutomatedValidationIntegration::test_validate_improvement
FAILED src/test_agent_improvements.py::TestAutomatedValidationIntegration::test_validation_failure
FAILED src/test_agent_improvements.py::TestRollbackTracking::test_rollback_manager_init
FAILED src/test_agent_improvements.py::TestRollbackTracking::test_create_rollback_point
FAILED src/test_agent_improvements.py::TestRollbackTracking::test_rollback_to_point
FAILED src/test_agent_improvements.py::TestCodeAnalysisToolSuggestions::test_analyzer_init
FAILED src/test_agent_improvements.py::TestCodeAnalysisToolSuggestions::test_suggest_tools_for_improvement
FAILED src/test_agent_improvements.py::TestDocumentationGenerationQuality::test_doc_generator_init
FAILED src/test_agent_improvements.py::TestDocumentationGenerationQuality::test_generate_improvement_docs
FAILED src/test_agent_improvements.py::TestDocumentationGenerationQuality::test_docs_include_metadata
FAILED src/test_agent_improvements.py::TestAssignmentAndOwnershipTracking::test_assignment_manager_init
FAILED src/test_agent_improvements.py::TestAssignmentAndOwnershipTracking::test_assign_improvement
FAILED src/test_agent_improvements.py::TestAssignmentAndOwnershipTracking::test_ownership_history
FAILED src/test_agent_improvements.py::TestSLAEnforcementAndAlerting::test_sla_manager_init
FAILED src/test_agent_improvements.py::TestSLAEnforcementAndAlerting::test_set_sla_policy
FAILED src/test_agent_improvements.py::TestSLAEnforcementAndAlerting::test_sla_violation_alert
FAILED src/test_agent_improvements.py::TestAnalyticsAndTrendCalculations::test_analytics_engine_init
FAILED src/test_agent_improvements.py::TestAnalyticsAndTrendCalculations::test_calculate_completion_trend
FAILED src/test_agent_improvements.py::TestAnalyticsAndTrendCalculations::test_velocity_calculation
FAILED src/test_agent_improvements.py::TestImprovementBulkOperations::test_bulk_manager_init
FAILED src/test_agent_improvements.py::TestImprovementBulkOperations::test_bulk_status_update
FAILED src/test_agent_improvements.py::TestImprovementBulkOperations::test_bulk_assign
FAILED src/test_agent_improvements.py::TestImprovementArchival::test_archive_manager_init
FAILED src/test_agent_improvements.py::TestImprovementArchival::test_archive_improvement
FAILED src/test_agent_improvements.py::TestImprovementArchival::test_restore_from_archive
FAILED src/test_agent_improvements.py::TestImprovementExportFormats::test_exporter_init
FAILED src/test_agent_improvements.py::TestImprovementExportFormats::test_export_to_json
FAILED src/test_agent_improvements.py::TestImprovementExportFormats::test_export_to_csv
FAILED src/test_agent_improvements.py::TestImprovementNotifications::test_notification_manager_init
FAILED src/test_agent_improvements.py::TestImprovementNotifications::test_subscribe_to_improvement
FAILED src/test_agent_improvements.py::TestImprovementNotifications::test_notification_on_status_change
FAILED src/test_agent_improvements.py::TestImprovementAccessControl::test_access_controller_init
FAILED src/test_agent_improvements.py::TestImprovementAccessControl::test_grant_access
FAILED src/test_agent_improvements.py::TestImprovementAccessControl::test_deny_unauthorized_access
FAILED src/test_agent_improvements.py::TestImprovementAccessControl::test_role_based_access
FAILED src/test_agent_improvements.py::TestImprovementParsing::test_parse_improvement_with_context
FAILED src/test_agent_improvements.py::TestRefactoringStrategy::test_agent_processor_responsibilities
FAILED src/test_agent_stats.py::TestCustomMetrics::test_add_metric_value - Ty...
FAILED src/test_agent_stats.py::TestAnomalyDetection::test_detect_anomaly_outlier
FAILED src/test_agent_stats.py::TestThresholdsAndAlerting::test_threshold_creates_alert
FAILED src/test_agent_stats.py::TestRetentionPolicies::test_apply_retention_policies
FAILED src/test_agent_stats.py::TestCompression::test_decompress_metrics - Ty...
FAILED src/test_agent_stats.py::TestStatsAgent::test_visualize_stats - Module...
FAILED src/test_agent_stats.py::TestRealTimeStatsStreaming::test_stream_manager_creates_stream
FAILED src/test_agent_stats.py::TestRealTimeStatsStreaming::test_stream_receives_data
FAILED src/test_agent_stats.py::TestRealTimeStatsStreaming::test_stream_subscriber_receives_updates
FAILED src/test_agent_stats.py::TestStatsFederationAcrossSources::test_federation_adds_sources
FAILED src/test_agent_stats.py::TestStatsFederationAcrossSources::test_federation_aggregates_data
FAILED src/test_agent_stats.py::TestStatsFederationAcrossSources::test_federation_handles_source_failure
FAILED src/test_agent_stats.py::TestStatsRetentionPolicyEnforcement::test_retention_policy_creation
FAILED src/test_agent_stats.py::TestStatsRetentionPolicyEnforcement::test_retention_enforcer_removes_old_data
FAILED src/test_agent_stats.py::TestStatsNamespaceIsolation::test_namespace_metric_scoping
FAILED src/test_agent_stats.py::TestStatsNamespaceIsolation::test_namespace_isolation
FAILED src/test_agent_stats.py::TestStatsMetricFormulaCalculation::test_formula_simple_calculation
FAILED src/test_agent_stats.py::TestStatsMetricFormulaCalculation::test_formula_with_aggregation
FAILED src/test_agent_stats.py::TestStatsMetricFormulaCalculation::test_formula_validation
FAILED src/test_agent_stats.py::TestStatsABComparison::test_ab_comparison_basic
FAILED src/test_agent_stats.py::TestStatsABComparison::test_ab_statistical_significance
FAILED src/test_agent_stats.py::TestStatsForecastingAccuracy::test_forecaster_predicts_trend
FAILED src/test_agent_stats.py::TestStatsForecastingAccuracy::test_forecaster_calculates_confidence
FAILED src/test_agent_stats.py::TestStatsSnapshotCreationAndRestore::test_snapshot_creation
FAILED src/test_agent_stats.py::TestStatsSnapshotCreationAndRestore::test_snapshot_restore
FAILED src/test_agent_stats.py::TestStatsSnapshotCreationAndRestore::test_snapshot_list
FAILED src/test_agent_stats.py::TestStatsThresholdAlerting::test_threshold_alert_triggers
FAILED src/test_agent_stats.py::TestStatsThresholdAlerting::test_threshold_no_alert_below_threshold
FAILED src/test_agent_stats.py::TestStatsSubscriptionAndNotification::test_subscription_creation
FAILED src/test_agent_stats.py::TestStatsSubscriptionAndNotification::test_notification_delivery
FAILED src/test_agent_stats.py::TestStatsExportToMonitoringPlatforms::test_prometheus_export
FAILED src/test_agent_stats.py::TestStatsExportToMonitoringPlatforms::test_json_export
FAILED src/test_agent_stats.py::TestStatsAnnotationPersistence::test_annotation_creation
FAILED src/test_agent_stats.py::TestStatsAnnotationPersistence::test_annotation_retrieval
FAILED src/test_agent_stats.py::TestStatsChangeNotificationSystem::test_change_detection
FAILED src/test_agent_stats.py::TestStatsChangeNotificationSystem::test_change_notification
FAILED src/test_agent_stats.py::TestStatsCompressionAlgorithms::test_compression_reduces_size
FAILED src/test_agent_stats.py::TestStatsCompressionAlgorithms::test_compression_decompression_roundtrip
FAILED src/test_agent_stats.py::TestStatsRollupCalculations::test_hourly_rollup
FAILED src/test_agent_stats.py::TestStatsRollupCalculations::test_daily_rollup
FAILED src/test_agent_stats.py::TestStatsQueryPerformance::test_query_with_time_range
FAILED src/test_agent_stats.py::TestStatsQueryPerformance::test_query_with_aggregation
FAILED src/test_agent_stats.py::TestStatsAccessControl::test_access_control_grant
FAILED src/test_agent_stats.py::TestStatsAccessControl::test_access_control_deny
FAILED src/test_agent_stats.py::TestStatsAccessControl::test_access_control_write_level
FAILED src/test_agent_stats.py::TestStatsBackupAndRestore::test_backup_creation
FAILED src/test_agent_stats.py::TestStatsBackupAndRestore::test_backup_restore
FAILED src/test_agent_stats.py::TestStatsBackupAndRestore::test_backup_list
FAILED src/test_agent_stats.py::TestExportFormatsAdvanced::test_export_to_html
FAILED src/test_agent_stats.py::TestFiltering::test_filter_by_file_pattern - ...
FAILED src/test_agent_test_utils.py::TestTestDataSeedingUtilities::test_seeder_creates_reproducible_data
FAILED src/test_agent_test_utils.py::TestTestResultAggregationHelpers::test_aggregator_combines_results
FAILED src/test_agent_test_utils.py::TestTestResultAggregationHelpers::test_aggregator_by_suite
FAILED src/test_agent_test_utils.py::TestSnapshotComparisonUtilities::test_snapshot_save_and_load
FAILED src/test_agent_test_utils.py::TestTestCoverageMeasurementHelpers::test_coverage_tracker_records_hits
FAILED src/test_agent_test_utils.py::TestTestCoverageMeasurementHelpers::test_coverage_tracker_percentage
FAILED src/test_agent_test_utils.py::TestTestLogCaptureUtilities::test_log_capturer_captures_logs
FAILED src/test_agent_test_utils.py::TestTestLogCaptureUtilities::test_log_capturer_filters_by_level
FAILED src/test_agent_test_utils.py::TestTestConfigurationLoadingUtilities::test_config_loader_loads_json
FAILED src/test_agent_test_utils.py::TestTestConfigurationLoadingUtilities::test_config_loader_with_defaults
FAILED src/test_agent_test_utils.py::TestTestReportGenerationHelpers::test_report_generator_creates_html
FAILED src/test_agent_test_utils.py::TestTestReportGenerationHelpers::test_report_generator_creates_json
FAILED src/test_agent_test_utils.py::TestTestIsolationMechanisms::test_isolator_preserves_environment
FAILED src/test_agent_test_utils.py::TestTestRetryUtilities::test_retry_on_failure
FAILED src/test_agent_test_utils.py::TestTestRetryUtilities::test_retry_exhausted
FAILED src/test_agent_test_utils.py::TestTestCleanupHooks::test_cleanup_hooks_execute
FAILED src/test_agent_test_utils.py::TestTestCleanupHooks::test_cleanup_hooks_execute_in_order
FAILED src/test_agent_test_utils.py::TestTestDependencyManagement::test_dependency_resolver_orders_correctly
FAILED src/test_agent_test_utils.py::TestTestDependencyManagement::test_dependency_resolver_detects_cycle
FAILED src/test_agent_test_utils.py::TestTestResourceAllocation::test_resource_pool_allocation
FAILED src/test_agent_test_utils.py::TestTestResourceAllocation::test_resource_pool_release
FAILED src/test_agent_test_utils.py::TestTestResourceAllocation::test_resource_pool_exhaustion
FAILED src/test_agent_tests.py::TestTestSuiteOptimizer::test_init - TypeError...
FAILED src/test_agent_tests.py::TestTestSuiteOptimizer::test_add_coverage - T...
FAILED src/test_agent_tests.py::TestTestSuiteOptimizer::test_find_redundant_tests
FAILED src/test_agent_tests.py::TestTestSuiteOptimizer::test_suggest_removals
FAILED src/test_agent_tests.py::TestEnvironmentProvisioner::test_init - Attri...
FAILED src/test_agent_tests.py::TestEnvironmentProvisioner::test_register_environment
FAILED src/test_agent_tests.py::TestEnvironmentProvisioner::test_provision - ...
FAILED src/test_agent_tests.py::TestEnvironmentProvisioner::test_teardown - A...
FAILED src/test_agent_tests.py::TestTestPrioritizationAlgorithms::test_prioritizer_by_recent_changes
FAILED src/test_agent_tests.py::TestTestPrioritizationAlgorithms::test_prioritizer_by_failure_history
FAILED src/test_agent_tests.py::TestTestPrioritizationAlgorithms::test_prioritizer_combined_strategy
FAILED src/test_agent_tests.py::TestFlakinessDetectionAndQuarantine::test_flakiness_detector_identifies_flaky
FAILED src/test_agent_tests.py::TestFlakinessDetectionAndQuarantine::test_flakiness_detector_stable_test
FAILED src/test_agent_tests.py::TestFlakinessDetectionAndQuarantine::test_quarantine_manager
FAILED src/test_agent_tests.py::TestTestImpactAnalysis::test_impact_analyzer_file_changes
FAILED src/test_agent_tests.py::TestTestImpactAnalysis::test_impact_analyzer_dependency_graph
FAILED src/test_agent_tests.py::TestDataFactoryIntegration::test_data_factory_creates_objects
FAILED src/test_agent_tests.py::TestDataFactoryIntegration::test_data_factory_with_overrides
FAILED src/test_agent_tests.py::TestDataFactoryIntegration::test_data_factory_batch_create
FAILED src/test_agent_tests.py::TestTestParallelizationStrategies::test_round_robin_distribution
FAILED src/test_agent_tests.py::TestTestParallelizationStrategies::test_load_balanced_distribution
FAILED src/test_agent_tests.py::TestCoverageGapAnalysis::test_gap_analyzer_finds_uncovered
FAILED src/test_agent_tests.py::TestCoverageGapAnalysis::test_gap_analyzer_coverage_percentage
FAILED src/test_agent_tests.py::TestContractTestingIntegration::test_contract_validator_valid
FAILED src/test_agent_tests.py::TestContractTestingIntegration::test_contract_validator_invalid
FAILED src/test_agent_tests.py::TestTestSuiteOptimization::test_optimizer_removes_redundant
FAILED src/test_agent_tests.py::TestTestSuiteOptimization::test_optimizer_preserves_coverage
FAILED src/test_agent_tests.py::TestEnvironmentProvisioningAutomation::test_provisioner_creates_environment
FAILED src/test_agent_tests.py::TestEnvironmentProvisioningAutomation::test_provisioner_cleanup
FAILED src/test_agent_tests.py::TestTestReplayFunctionality::test_recorder_saves_execution
FAILED src/test_agent_tests.py::TestTestReplayFunctionality::test_replayer_executes_recording
FAILED src/test_agent_tests.py::TestDocumentationGenerationFromTests::test_doc_generator_extracts_examples
FAILED src/test_base_agent.py::test_improve_content_uses_run_subagent - Asser...
========== 234 failed, 2435 passed, 11 skipped, 4 warnings in 54.36s ==========
