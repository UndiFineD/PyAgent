diff --git a/src/logic/agents/system/CoreExpansionAgent.py b/src/logic/agents/system/CoreExpansionAgent.py
index 34826dd..101fe0f 100644
--- a/src/logic/agents/system/CoreExpansionAgent.py
+++ b/src/logic/agents/system/CoreExpansionAgent.py
@@ -80,6 +80,10 @@ class CoreExpansionAgent(BaseAgent):
         """
         Lists currently installed packages in the environment.
         """
-        import pkg_resources
-        installed_packages = [f"{d.project_name}=={d.version}" for d in pkg_resources.working_set]
-        return installed_packages
\ No newline at end of file
+        try:
+            from importlib.metadata import distributions
+            return [f"{d.metadata['Name']}=={d.version}" for d in distributions()]
+        except (ImportError, KeyError):
+            import pkg_resources
+            installed_packages = [f"{d.project_name}=={d.version}" for d in pkg_resources.working_set]
+            return installed_packages
\ No newline at end of file
